"use strict";(()=>{var pd=Object.create;var on=Object.defineProperty,gd=Object.defineProperties,yd=Object.getOwnPropertyDescriptor,vd=Object.getOwnPropertyDescriptors,_d=Object.getOwnPropertyNames,To=Object.getOwnPropertySymbols,$d=Object.getPrototypeOf,Po=Object.prototype.hasOwnProperty,bd=Object.prototype.propertyIsEnumerable;var nn=(t,e,r)=>e in t?on(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,se=(t,e)=>{for(var r in e||(e={}))Po.call(e,r)&&nn(t,r,e[r]);if(To)for(var r of To(e))bd.call(e,r)&&nn(t,r,e[r]);return t},Oe=(t,e)=>gd(t,vd(e));var M=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Ed=(t,e,r,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of _d(e))!Po.call(t,s)&&s!==r&&on(t,s,{get:()=>e[s],enumerable:!(a=yd(e,s))||a.enumerable});return t};var Sd=(t,e,r)=>(r=t!=null?pd($d(t)):{},Ed(e||!t||!t.__esModule?on(r,"default",{value:t,enumerable:!0}):r,t));var Xe=(t,e,r)=>(nn(t,typeof e!="symbol"?e+"":e,r),r),cn=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var y=(t,e,r)=>(cn(t,e,"read from private field"),r?r.call(t):e.get(t)),C=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},T=(t,e,r,a)=>(cn(t,e,"write to private field"),a?a.call(t,r):e.set(t,r),r),ns=(t,e,r,a)=>({set _(s){T(t,e,s,r)},get _(){return y(t,e,a)}}),ce=(t,e,r)=>(cn(t,e,"access private method"),r);var Pa=M(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.regexpCode=U.getEsmExportName=U.getProperty=U.safeStringify=U.stringify=U.strConcat=U.addCodeArg=U.str=U._=U.nil=U._Code=U.Name=U.IDENTIFIER=U._CodeOrName=void 0;var Ma=class{};U._CodeOrName=Ma;U.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var rr=class extends Ma{constructor(e){if(super(),!U.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};U.Name=rr;var qe=class extends Ma{constructor(e){super(),this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((r,a)=>`${r}${a}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((r,a)=>(a instanceof rr&&(r[a.str]=(r[a.str]||0)+1),r),{})}};U._Code=qe;U.nil=new qe("");function vc(t,...e){let r=[t[0]],a=0;for(;a<e.length;)Tn(r,e[a]),r.push(t[++a]);return new qe(r)}U._=vc;var Mn=new qe("+");function _c(t,...e){let r=[Ta(t[0])],a=0;for(;a<e.length;)r.push(Mn),Tn(r,e[a]),r.push(Mn,Ta(t[++a]));return Hd(r),new qe(r)}U.str=_c;function Tn(t,e){e instanceof qe?t.push(...e._items):e instanceof rr?t.push(e):t.push(zd(e))}U.addCodeArg=Tn;function Hd(t){let e=1;for(;e<t.length-1;){if(t[e]===Mn){let r=Ud(t[e-1],t[e+1]);if(r!==void 0){t.splice(e-1,3,r);continue}t[e++]="+"}e++}}function Ud(t,e){if(e==='""')return t;if(t==='""')return e;if(typeof t=="string")return e instanceof rr||t[t.length-1]!=='"'?void 0:typeof e!="string"?`${t.slice(0,-1)}${e}"`:e[0]==='"'?t.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(t instanceof rr))return`"${t}${e.slice(1)}`}function Gd(t,e){return e.emptyStr()?t:t.emptyStr()?e:_c`${t}${e}`}U.strConcat=Gd;function zd(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:Ta(Array.isArray(t)?t.join(","):t)}function Kd(t){return new qe(Ta(t))}U.stringify=Kd;function Ta(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}U.safeStringify=Ta;function Bd(t){return typeof t=="string"&&U.IDENTIFIER.test(t)?new qe(`.${t}`):vc`[${t}]`}U.getProperty=Bd;function Jd(t){if(typeof t=="string"&&U.IDENTIFIER.test(t))return new qe(`${t}`);throw new Error(`CodeGen: invalid export name: ${t}, use explicit $id name mapping`)}U.getEsmExportName=Jd;function Wd(t){return new qe(t.toString())}U.regexpCode=Wd});var In=M(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.ValueScope=Ee.ValueScopeName=Ee.Scope=Ee.varKinds=Ee.UsedValueState=void 0;var Ce=Pa(),Pn=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}},kn;(function(t){t[t.Started=0]="Started",t[t.Completed=1]="Completed"})(kn=Ee.UsedValueState||(Ee.UsedValueState={}));Ee.varKinds={const:new Ce.Name("const"),let:new Ce.Name("let"),var:new Ce.Name("var")};var bs=class{constructor({prefixes:e,parent:r}={}){this._names={},this._prefixes=e,this._parent=r}toName(e){return e instanceof Ce.Name?e:this.name(e)}name(e){return new Ce.Name(this._newName(e))}_newName(e){let r=this._names[e]||this._nameGroup(e);return`${e}${r.index++}`}_nameGroup(e){var r,a;if(((a=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||a===void 0?void 0:a.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};Ee.Scope=bs;var Es=class extends Ce.Name{constructor(e,r){super(r),this.prefix=e}setValue(e,{property:r,itemIndex:a}){this.value=e,this.scopePath=(0,Ce._)`.${new Ce.Name(r)}[${a}]`}};Ee.ValueScopeName=Es;var Qd=(0,Ce._)`\n`,Dn=class extends bs{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts=Oe(se({},e),{_n:e.lines?Qd:Ce.nil})}get(){return this._scope}name(e){return new Es(e,this._newName(e))}value(e,r){var a;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let s=this.toName(e),{prefix:n}=s,i=(a=r.key)!==null&&a!==void 0?a:r.ref,c=this._values[n];if(c){let m=c.get(i);if(m)return m}else c=this._values[n]=new Map;c.set(i,s);let d=this._scope[n]||(this._scope[n]=[]),f=d.length;return d[f]=r.ref,s.setValue(r,{property:n,itemIndex:f}),s}getValue(e,r){let a=this._values[e];if(!!a)return a.get(r)}scopeRefs(e,r=this._values){return this._reduceValues(r,a=>{if(a.scopePath===void 0)throw new Error(`CodeGen: name "${a}" has no value`);return(0,Ce._)`${e}${a.scopePath}`})}scopeCode(e=this._values,r,a){return this._reduceValues(e,s=>{if(s.value===void 0)throw new Error(`CodeGen: name "${s}" has no value`);return s.value.code},r,a)}_reduceValues(e,r,a={},s){let n=Ce.nil;for(let i in e){let c=e[i];if(!c)continue;let d=a[i]=a[i]||new Map;c.forEach(f=>{if(d.has(f))return;d.set(f,kn.Started);let m=r(f);if(m){let h=this.opts.es5?Ee.varKinds.var:Ee.varKinds.const;n=(0,Ce._)`${n}${h} ${f} = ${m};${this.opts._n}`}else if(m=s==null?void 0:s(f))n=(0,Ce._)`${n}${m}${this.opts._n}`;else throw new Pn(f);d.set(f,kn.Completed)})}return n}};Ee.ValueScope=Dn});var j=M(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.or=A.and=A.not=A.CodeGen=A.operators=A.varKinds=A.ValueScopeName=A.ValueScope=A.Scope=A.Name=A.regexpCode=A.stringify=A.getProperty=A.nil=A.strConcat=A.str=A._=void 0;var x=Pa(),Fe=In(),Pt=Pa();Object.defineProperty(A,"_",{enumerable:!0,get:function(){return Pt._}});Object.defineProperty(A,"str",{enumerable:!0,get:function(){return Pt.str}});Object.defineProperty(A,"strConcat",{enumerable:!0,get:function(){return Pt.strConcat}});Object.defineProperty(A,"nil",{enumerable:!0,get:function(){return Pt.nil}});Object.defineProperty(A,"getProperty",{enumerable:!0,get:function(){return Pt.getProperty}});Object.defineProperty(A,"stringify",{enumerable:!0,get:function(){return Pt.stringify}});Object.defineProperty(A,"regexpCode",{enumerable:!0,get:function(){return Pt.regexpCode}});Object.defineProperty(A,"Name",{enumerable:!0,get:function(){return Pt.Name}});var Ms=In();Object.defineProperty(A,"Scope",{enumerable:!0,get:function(){return Ms.Scope}});Object.defineProperty(A,"ValueScope",{enumerable:!0,get:function(){return Ms.ValueScope}});Object.defineProperty(A,"ValueScopeName",{enumerable:!0,get:function(){return Ms.ValueScopeName}});Object.defineProperty(A,"varKinds",{enumerable:!0,get:function(){return Ms.varKinds}});A.operators={GT:new x._Code(">"),GTE:new x._Code(">="),LT:new x._Code("<"),LTE:new x._Code("<="),EQ:new x._Code("==="),NEQ:new x._Code("!=="),NOT:new x._Code("!"),OR:new x._Code("||"),AND:new x._Code("&&"),ADD:new x._Code("+")};var gt=class{optimizeNodes(){return this}optimizeNames(e,r){return this}},Nn=class extends gt{constructor(e,r,a){super(),this.varKind=e,this.name=r,this.rhs=a}render({es5:e,_n:r}){let a=e?Fe.varKinds.var:this.varKind,s=this.rhs===void 0?"":` = ${this.rhs}`;return`${a} ${this.name}${s};`+r}optimizeNames(e,r){if(!!e[this.name.str])return this.rhs&&(this.rhs=Ur(this.rhs,e,r)),this}get names(){return this.rhs instanceof x._CodeOrName?this.rhs.names:{}}},Ss=class extends gt{constructor(e,r,a){super(),this.lhs=e,this.rhs=r,this.sideEffects=a}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,r){if(!(this.lhs instanceof x.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=Ur(this.rhs,e,r),this}get names(){let e=this.lhs instanceof x.Name?{}:se({},this.lhs.names);return Cs(e,this.rhs)}},Rn=class extends Ss{constructor(e,r,a,s){super(e,a,s),this.op=r}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},On=class extends gt{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},An=class extends gt{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},qn=class extends gt{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},jn=class extends gt{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,r){return this.code=Ur(this.code,e,r),this}get names(){return this.code instanceof x._CodeOrName?this.code.names:{}}},ka=class extends gt{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((r,a)=>r+a.render(e),"")}optimizeNodes(){let{nodes:e}=this,r=e.length;for(;r--;){let a=e[r].optimizeNodes();Array.isArray(a)?e.splice(r,1,...a):a?e[r]=a:e.splice(r,1)}return e.length>0?this:void 0}optimizeNames(e,r){let{nodes:a}=this,s=a.length;for(;s--;){let n=a[s];n.optimizeNames(e,r)||(Xd(e,n.names),a.splice(s,1))}return a.length>0?this:void 0}get names(){return this.nodes.reduce((e,r)=>sr(e,r.names),{})}},yt=class extends ka{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},Ln=class extends ka{},Hr=class extends yt{};Hr.kind="else";var He=class extends yt{constructor(e,r){super(r),this.condition=e}render(e){let r=`if(${this.condition})`+super.render(e);return this.else&&(r+="else "+this.else.render(e)),r}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(e===!0)return this.nodes;let r=this.else;if(r){let a=r.optimizeNodes();r=this.else=Array.isArray(a)?new Hr(a):a}if(r)return e===!1?r instanceof He?r:r.nodes:this.nodes.length?this:new He($c(e),r instanceof He?[r]:r.nodes);if(!(e===!1||!this.nodes.length))return this}optimizeNames(e,r){var a;if(this.else=(a=this.else)===null||a===void 0?void 0:a.optimizeNames(e,r),!!(super.optimizeNames(e,r)||this.else))return this.condition=Ur(this.condition,e,r),this}get names(){let e=super.names;return Cs(e,this.condition),this.else&&sr(e,this.else.names),e}};He.kind="if";var ar=class extends yt{};ar.kind="for";var xn=class extends ar{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,r){if(!!super.optimizeNames(e,r))return this.iteration=Ur(this.iteration,e,r),this}get names(){return sr(super.names,this.iteration.names)}},Vn=class extends ar{constructor(e,r,a,s){super(),this.varKind=e,this.name=r,this.from=a,this.to=s}render(e){let r=e.es5?Fe.varKinds.var:this.varKind,{name:a,from:s,to:n}=this;return`for(${r} ${a}=${s}; ${a}<${n}; ${a}++)`+super.render(e)}get names(){let e=Cs(super.names,this.from);return Cs(e,this.to)}},ws=class extends ar{constructor(e,r,a,s){super(),this.loop=e,this.varKind=r,this.name=a,this.iterable=s}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,r){if(!!super.optimizeNames(e,r))return this.iterable=Ur(this.iterable,e,r),this}get names(){return sr(super.names,this.iterable.names)}},Da=class extends yt{constructor(e,r,a){super(),this.name=e,this.args=r,this.async=a}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}};Da.kind="func";var Ia=class extends ka{render(e){return"return "+super.render(e)}};Ia.kind="return";var Fn=class extends yt{render(e){let r="try"+super.render(e);return this.catch&&(r+=this.catch.render(e)),this.finally&&(r+=this.finally.render(e)),r}optimizeNodes(){var e,r;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(e,r){var a,s;return super.optimizeNames(e,r),(a=this.catch)===null||a===void 0||a.optimizeNames(e,r),(s=this.finally)===null||s===void 0||s.optimizeNames(e,r),this}get names(){let e=super.names;return this.catch&&sr(e,this.catch.names),this.finally&&sr(e,this.finally.names),e}},Na=class extends yt{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}};Na.kind="catch";var Ra=class extends yt{render(e){return"finally"+super.render(e)}};Ra.kind="finally";var Hn=class{constructor(e,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts=Oe(se({},r),{_n:r.lines?`
`:""}),this._extScope=e,this._scope=new Fe.Scope({parent:e}),this._nodes=[new Ln]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,r){let a=this._extScope.value(e,r);return(this._values[a.prefix]||(this._values[a.prefix]=new Set)).add(a),a}getScopeValue(e,r){return this._extScope.getValue(e,r)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,r,a,s){let n=this._scope.toName(r);return a!==void 0&&s&&(this._constants[n.str]=a),this._leafNode(new Nn(e,n,a)),n}const(e,r,a){return this._def(Fe.varKinds.const,e,r,a)}let(e,r,a){return this._def(Fe.varKinds.let,e,r,a)}var(e,r,a){return this._def(Fe.varKinds.var,e,r,a)}assign(e,r,a){return this._leafNode(new Ss(e,r,a))}add(e,r){return this._leafNode(new Rn(e,A.operators.ADD,r))}code(e){return typeof e=="function"?e():e!==x.nil&&this._leafNode(new jn(e)),this}object(...e){let r=["{"];for(let[a,s]of e)r.length>1&&r.push(","),r.push(a),(a!==s||this.opts.es5)&&(r.push(":"),(0,x.addCodeArg)(r,s));return r.push("}"),new x._Code(r)}if(e,r,a){if(this._blockNode(new He(e)),r&&a)this.code(r).else().code(a).endIf();else if(r)this.code(r).endIf();else if(a)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new He(e))}else(){return this._elseNode(new Hr)}endIf(){return this._endBlockNode(He,Hr)}_for(e,r){return this._blockNode(e),r&&this.code(r).endFor(),this}for(e,r){return this._for(new xn(e),r)}forRange(e,r,a,s,n=this.opts.es5?Fe.varKinds.var:Fe.varKinds.let){let i=this._scope.toName(e);return this._for(new Vn(n,i,r,a),()=>s(i))}forOf(e,r,a,s=Fe.varKinds.const){let n=this._scope.toName(e);if(this.opts.es5){let i=r instanceof x.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,x._)`${i}.length`,c=>{this.var(n,(0,x._)`${i}[${c}]`),a(n)})}return this._for(new ws("of",s,n,r),()=>a(n))}forIn(e,r,a,s=this.opts.es5?Fe.varKinds.var:Fe.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,x._)`Object.keys(${r})`,a);let n=this._scope.toName(e);return this._for(new ws("in",s,n,r),()=>a(n))}endFor(){return this._endBlockNode(ar)}label(e){return this._leafNode(new On(e))}break(e){return this._leafNode(new An(e))}return(e){let r=new Ia;if(this._blockNode(r),this.code(e),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Ia)}try(e,r,a){if(!r&&!a)throw new Error('CodeGen: "try" without "catch" and "finally"');let s=new Fn;if(this._blockNode(s),this.code(e),r){let n=this.name("e");this._currNode=s.catch=new Na(n),r(n)}return a&&(this._currNode=s.finally=new Ra,this.code(a)),this._endBlockNode(Na,Ra)}throw(e){return this._leafNode(new qn(e))}block(e,r){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(r),this}endBlock(e){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let a=this._nodes.length-r;if(a<0||e!==void 0&&a!==e)throw new Error(`CodeGen: wrong number of nodes: ${a} vs ${e} expected`);return this._nodes.length=r,this}func(e,r=x.nil,a,s){return this._blockNode(new Da(e,r,a)),s&&this.code(s).endFunc(),this}endFunc(){return this._endBlockNode(Da)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,r){let a=this._currNode;if(a instanceof e||r&&a instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${e.kind}/${r.kind}`:e.kind}"`)}_elseNode(e){let r=this._currNode;if(!(r instanceof He))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let r=this._nodes;r[r.length-1]=e}};A.CodeGen=Hn;function sr(t,e){for(let r in e)t[r]=(t[r]||0)+(e[r]||0);return t}function Cs(t,e){return e instanceof x._CodeOrName?sr(t,e.names):t}function Ur(t,e,r){if(t instanceof x.Name)return a(t);if(!s(t))return t;return new x._Code(t._items.reduce((n,i)=>(i instanceof x.Name&&(i=a(i)),i instanceof x._Code?n.push(...i._items):n.push(i),n),[]));function a(n){let i=r[n.str];return i===void 0||e[n.str]!==1?n:(delete e[n.str],i)}function s(n){return n instanceof x._Code&&n._items.some(i=>i instanceof x.Name&&e[i.str]===1&&r[i.str]!==void 0)}}function Xd(t,e){for(let r in e)t[r]=(t[r]||0)-(e[r]||0)}function $c(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:(0,x._)`!${Un(t)}`}A.not=$c;var Yd=bc(A.operators.AND);function Zd(...t){return t.reduce(Yd)}A.and=Zd;var ef=bc(A.operators.OR);function tf(...t){return t.reduce(ef)}A.or=tf;function bc(t){return(e,r)=>e===x.nil?r:r===x.nil?e:(0,x._)`${Un(e)} ${t} ${Un(r)}`}function Un(t){return t instanceof x.Name?t:(0,x._)`(${t})`}});var G=M(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});q.checkStrictMode=q.getErrorPath=q.Type=q.useFunc=q.setEvaluated=q.evaluatedPropsToName=q.mergeEvaluated=q.eachItem=q.unescapeJsonPointer=q.escapeJsonPointer=q.escapeFragment=q.unescapeFragment=q.schemaRefOrVal=q.schemaHasRulesButRef=q.schemaHasRules=q.checkUnknownRules=q.alwaysValidSchema=q.toHash=void 0;var X=j(),rf=Pa();function af(t){let e={};for(let r of t)e[r]=!0;return e}q.toHash=af;function sf(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(wc(t,e),!Cc(e,t.self.RULES.all))}q.alwaysValidSchema=sf;function wc(t,e=t.schema){let{opts:r,self:a}=t;if(!r.strictSchema||typeof e=="boolean")return;let s=a.RULES.keywords;for(let n in e)s[n]||kc(t,`unknown keyword: "${n}"`)}q.checkUnknownRules=wc;function Cc(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(e[r])return!0;return!1}q.schemaHasRules=Cc;function nf(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}q.schemaHasRulesButRef=nf;function of({topSchemaRef:t,schemaPath:e},r,a,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,X._)`${r}`}return(0,X._)`${t}${e}${(0,X.getProperty)(a)}`}q.schemaRefOrVal=of;function cf(t){return Mc(decodeURIComponent(t))}q.unescapeFragment=cf;function lf(t){return encodeURIComponent(Gn(t))}q.escapeFragment=lf;function Gn(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}q.escapeJsonPointer=Gn;function Mc(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}q.unescapeJsonPointer=Mc;function uf(t,e){if(Array.isArray(t))for(let r of t)e(r);else e(t)}q.eachItem=uf;function Ec({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:a}){return(s,n,i,c)=>{let d=i===void 0?n:i instanceof X.Name?(n instanceof X.Name?t(s,n,i):e(s,n,i),i):n instanceof X.Name?(e(s,i,n),n):r(n,i);return c===X.Name&&!(d instanceof X.Name)?a(s,d):d}}q.mergeEvaluated={props:Ec({mergeNames:(t,e,r)=>t.if((0,X._)`${r} !== true && ${e} !== undefined`,()=>{t.if((0,X._)`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,(0,X._)`${r} || {}`).code((0,X._)`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if((0,X._)`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,(0,X._)`${r} || {}`),zn(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:se(se({},t),e),resultToName:Tc}),items:Ec({mergeNames:(t,e,r)=>t.if((0,X._)`${r} !== true && ${e} !== undefined`,()=>t.assign(r,(0,X._)`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if((0,X._)`${r} !== true`,()=>t.assign(r,e===!0?!0:(0,X._)`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function Tc(t,e){if(e===!0)return t.var("props",!0);let r=t.var("props",(0,X._)`{}`);return e!==void 0&&zn(t,r,e),r}q.evaluatedPropsToName=Tc;function zn(t,e,r){Object.keys(r).forEach(a=>t.assign((0,X._)`${e}${(0,X.getProperty)(a)}`,!0))}q.setEvaluated=zn;var Sc={};function df(t,e){return t.scopeValue("func",{ref:e,code:Sc[e.code]||(Sc[e.code]=new rf._Code(e.code))})}q.useFunc=df;var Pc;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(Pc=q.Type||(q.Type={}));function ff(t,e,r){if(t instanceof X.Name){let a=e===Pc.Num;return r?a?(0,X._)`"[" + ${t} + "]"`:(0,X._)`"['" + ${t} + "']"`:a?(0,X._)`"/" + ${t}`:(0,X._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,X.getProperty)(t).toString():"/"+Gn(t)}q.getErrorPath=ff;function kc(t,e,r=t.opts.strictSchema){if(!!r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}q.checkStrictMode=kc});var vt=M(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});var ve=j(),mf={data:new ve.Name("data"),valCxt:new ve.Name("valCxt"),instancePath:new ve.Name("instancePath"),parentData:new ve.Name("parentData"),parentDataProperty:new ve.Name("parentDataProperty"),rootData:new ve.Name("rootData"),dynamicAnchors:new ve.Name("dynamicAnchors"),vErrors:new ve.Name("vErrors"),errors:new ve.Name("errors"),this:new ve.Name("this"),self:new ve.Name("self"),scope:new ve.Name("scope"),json:new ve.Name("json"),jsonPos:new ve.Name("jsonPos"),jsonLen:new ve.Name("jsonLen"),jsonPart:new ve.Name("jsonPart")};Kn.default=mf});var Oa=M(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.extendErrors=_e.resetErrorsCount=_e.reportExtraError=_e.reportError=_e.keyword$DataError=_e.keywordError=void 0;var F=j(),Ts=G(),Se=vt();_e.keywordError={message:({keyword:t})=>(0,F.str)`must pass "${t}" keyword validation`};_e.keyword$DataError={message:({keyword:t,schemaType:e})=>e?(0,F.str)`"${t}" keyword must be ${e} ($data)`:(0,F.str)`"${t}" keyword is invalid ($data)`};function hf(t,e=_e.keywordError,r,a){let{it:s}=t,{gen:n,compositeRule:i,allErrors:c}=s,d=Nc(t,e,r);(a!=null?a:i||c)?Dc(n,d):Ic(s,(0,F._)`[${d}]`)}_e.reportError=hf;function pf(t,e=_e.keywordError,r){let{it:a}=t,{gen:s,compositeRule:n,allErrors:i}=a,c=Nc(t,e,r);Dc(s,c),n||i||Ic(a,Se.default.vErrors)}_e.reportExtraError=pf;function gf(t,e){t.assign(Se.default.errors,e),t.if((0,F._)`${Se.default.vErrors} !== null`,()=>t.if(e,()=>t.assign((0,F._)`${Se.default.vErrors}.length`,e),()=>t.assign(Se.default.vErrors,null)))}_e.resetErrorsCount=gf;function yf({gen:t,keyword:e,schemaValue:r,data:a,errsCount:s,it:n}){if(s===void 0)throw new Error("ajv implementation error");let i=t.name("err");t.forRange("i",s,Se.default.errors,c=>{t.const(i,(0,F._)`${Se.default.vErrors}[${c}]`),t.if((0,F._)`${i}.instancePath === undefined`,()=>t.assign((0,F._)`${i}.instancePath`,(0,F.strConcat)(Se.default.instancePath,n.errorPath))),t.assign((0,F._)`${i}.schemaPath`,(0,F.str)`${n.errSchemaPath}/${e}`),n.opts.verbose&&(t.assign((0,F._)`${i}.schema`,r),t.assign((0,F._)`${i}.data`,a))})}_e.extendErrors=yf;function Dc(t,e){let r=t.const("err",e);t.if((0,F._)`${Se.default.vErrors} === null`,()=>t.assign(Se.default.vErrors,(0,F._)`[${r}]`),(0,F._)`${Se.default.vErrors}.push(${r})`),t.code((0,F._)`${Se.default.errors}++`)}function Ic(t,e){let{gen:r,validateName:a,schemaEnv:s}=t;s.$async?r.throw((0,F._)`new ${t.ValidationError}(${e})`):(r.assign((0,F._)`${a}.errors`,e),r.return(!1))}var nr={keyword:new F.Name("keyword"),schemaPath:new F.Name("schemaPath"),params:new F.Name("params"),propertyName:new F.Name("propertyName"),message:new F.Name("message"),schema:new F.Name("schema"),parentSchema:new F.Name("parentSchema")};function Nc(t,e,r){let{createErrors:a}=t.it;return a===!1?(0,F._)`{}`:vf(t,e,r)}function vf(t,e,r={}){let{gen:a,it:s}=t,n=[_f(s,r),$f(t,r)];return bf(t,e,n),a.object(...n)}function _f({errorPath:t},{instancePath:e}){let r=e?(0,F.str)`${t}${(0,Ts.getErrorPath)(e,Ts.Type.Str)}`:t;return[Se.default.instancePath,(0,F.strConcat)(Se.default.instancePath,r)]}function $f({keyword:t,it:{errSchemaPath:e}},{schemaPath:r,parentSchema:a}){let s=a?e:(0,F.str)`${e}/${t}`;return r&&(s=(0,F.str)`${s}${(0,Ts.getErrorPath)(r,Ts.Type.Str)}`),[nr.schemaPath,s]}function bf(t,{params:e,message:r},a){let{keyword:s,data:n,schemaValue:i,it:c}=t,{opts:d,propertyName:f,topSchemaRef:m,schemaPath:h}=c;a.push([nr.keyword,s],[nr.params,typeof e=="function"?e(t):e||(0,F._)`{}`]),d.messages&&a.push([nr.message,typeof r=="function"?r(t):r]),d.verbose&&a.push([nr.schema,i],[nr.parentSchema,(0,F._)`${m}${h}`],[Se.default.data,n]),f&&a.push([nr.propertyName,f])}});var Oc=M(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.boolOrEmptySchema=Gr.topBoolOrEmptySchema=void 0;var Ef=Oa(),Sf=j(),wf=vt(),Cf={message:"boolean schema is false"};function Mf(t){let{gen:e,schema:r,validateName:a}=t;r===!1?Rc(t,!1):typeof r=="object"&&r.$async===!0?e.return(wf.default.data):(e.assign((0,Sf._)`${a}.errors`,null),e.return(!0))}Gr.topBoolOrEmptySchema=Mf;function Tf(t,e){let{gen:r,schema:a}=t;a===!1?(r.var(e,!1),Rc(t)):r.var(e,!0)}Gr.boolOrEmptySchema=Tf;function Rc(t,e){let{gen:r,data:a}=t,s={gen:r,keyword:"false schema",data:a,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,Ef.reportError)(s,Cf,void 0,e)}});var Bn=M(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});zr.getRules=zr.isJSONType=void 0;var Pf=["string","number","integer","boolean","null","object","array"],kf=new Set(Pf);function Df(t){return typeof t=="string"&&kf.has(t)}zr.isJSONType=Df;function If(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:Oe(se({},t),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}zr.getRules=If});var Jn=M(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.shouldUseRule=kt.shouldUseGroup=kt.schemaHasRulesForType=void 0;function Nf({schema:t,self:e},r){let a=e.RULES.types[r];return a&&a!==!0&&Ac(t,a)}kt.schemaHasRulesForType=Nf;function Ac(t,e){return e.rules.some(r=>qc(t,r))}kt.shouldUseGroup=Ac;function qc(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(a=>t[a]!==void 0))}kt.shouldUseRule=qc});var qa=M(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.reportTypeError=me.checkDataTypes=me.checkDataType=me.coerceAndCheckDataType=me.getJSONTypes=me.getSchemaTypes=me.DataType=void 0;var Rf=Bn(),Of=Jn(),Af=Oa(),R=j(),jc=G(),Aa;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(Aa=me.DataType||(me.DataType={}));function qf(t){let e=Lc(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}me.getSchemaTypes=qf;function Lc(t){let e=Array.isArray(t)?t:t?[t]:[];if(e.every(Rf.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}me.getJSONTypes=Lc;function jf(t,e){let{gen:r,data:a,opts:s}=t,n=Lf(e,s.coerceTypes),i=e.length>0&&!(n.length===0&&e.length===1&&(0,Of.schemaHasRulesForType)(t,e[0]));if(i){let c=Qn(e,a,s.strictNumbers,Aa.Wrong);r.if(c,()=>{n.length?xf(t,e,n):Xn(t)})}return i}me.coerceAndCheckDataType=jf;var xc=new Set(["string","number","integer","boolean","null"]);function Lf(t,e){return e?t.filter(r=>xc.has(r)||e==="array"&&r==="array"):[]}function xf(t,e,r){let{gen:a,data:s,opts:n}=t,i=a.let("dataType",(0,R._)`typeof ${s}`),c=a.let("coerced",(0,R._)`undefined`);n.coerceTypes==="array"&&a.if((0,R._)`${i} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>a.assign(s,(0,R._)`${s}[0]`).assign(i,(0,R._)`typeof ${s}`).if(Qn(e,s,n.strictNumbers),()=>a.assign(c,s))),a.if((0,R._)`${c} !== undefined`);for(let f of r)(xc.has(f)||f==="array"&&n.coerceTypes==="array")&&d(f);a.else(),Xn(t),a.endIf(),a.if((0,R._)`${c} !== undefined`,()=>{a.assign(s,c),Vf(t,c)});function d(f){switch(f){case"string":a.elseIf((0,R._)`${i} == "number" || ${i} == "boolean"`).assign(c,(0,R._)`"" + ${s}`).elseIf((0,R._)`${s} === null`).assign(c,(0,R._)`""`);return;case"number":a.elseIf((0,R._)`${i} == "boolean" || ${s} === null
              || (${i} == "string" && ${s} && ${s} == +${s})`).assign(c,(0,R._)`+${s}`);return;case"integer":a.elseIf((0,R._)`${i} === "boolean" || ${s} === null
              || (${i} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(c,(0,R._)`+${s}`);return;case"boolean":a.elseIf((0,R._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(c,!1).elseIf((0,R._)`${s} === "true" || ${s} === 1`).assign(c,!0);return;case"null":a.elseIf((0,R._)`${s} === "" || ${s} === 0 || ${s} === false`),a.assign(c,null);return;case"array":a.elseIf((0,R._)`${i} === "string" || ${i} === "number"
              || ${i} === "boolean" || ${s} === null`).assign(c,(0,R._)`[${s}]`)}}}function Vf({gen:t,parentData:e,parentDataProperty:r},a){t.if((0,R._)`${e} !== undefined`,()=>t.assign((0,R._)`${e}[${r}]`,a))}function Wn(t,e,r,a=Aa.Correct){let s=a===Aa.Correct?R.operators.EQ:R.operators.NEQ,n;switch(t){case"null":return(0,R._)`${e} ${s} null`;case"array":n=(0,R._)`Array.isArray(${e})`;break;case"object":n=(0,R._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":n=i((0,R._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":n=i();break;default:return(0,R._)`typeof ${e} ${s} ${t}`}return a===Aa.Correct?n:(0,R.not)(n);function i(c=R.nil){return(0,R.and)((0,R._)`typeof ${e} == "number"`,c,r?(0,R._)`isFinite(${e})`:R.nil)}}me.checkDataType=Wn;function Qn(t,e,r,a){if(t.length===1)return Wn(t[0],e,r,a);let s,n=(0,jc.toHash)(t);if(n.array&&n.object){let i=(0,R._)`typeof ${e} != "object"`;s=n.null?i:(0,R._)`!${e} || ${i}`,delete n.null,delete n.array,delete n.object}else s=R.nil;n.number&&delete n.integer;for(let i in n)s=(0,R.and)(s,Wn(i,e,r,a));return s}me.checkDataTypes=Qn;var Ff={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,R._)`{type: ${t}}`:(0,R._)`{type: ${e}}`};function Xn(t){let e=Hf(t);(0,Af.reportError)(e,Ff)}me.reportTypeError=Xn;function Hf(t){let{gen:e,data:r,schema:a}=t,s=(0,jc.schemaRefOrVal)(t,a,"type");return{gen:e,keyword:"type",data:r,schema:a.type,schemaCode:s,schemaValue:s,parentSchema:a,params:{},it:t}}});var Fc=M(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.assignDefaults=void 0;var Kr=j(),Uf=G();function Gf(t,e){let{properties:r,items:a}=t.schema;if(e==="object"&&r)for(let s in r)Vc(t,s,r[s].default);else e==="array"&&Array.isArray(a)&&a.forEach((s,n)=>Vc(t,n,s.default))}Ps.assignDefaults=Gf;function Vc(t,e,r){let{gen:a,compositeRule:s,data:n,opts:i}=t;if(r===void 0)return;let c=(0,Kr._)`${n}${(0,Kr.getProperty)(e)}`;if(s){(0,Uf.checkStrictMode)(t,`default is ignored for: ${c}`);return}let d=(0,Kr._)`${c} === undefined`;i.useDefaults==="empty"&&(d=(0,Kr._)`${d} || ${c} === null || ${c} === ""`),a.if(d,(0,Kr._)`${c} = ${(0,Kr.stringify)(r)}`)}});var je=M(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});W.validateUnion=W.validateArray=W.usePattern=W.callValidateCode=W.schemaProperties=W.allSchemaProperties=W.noPropertyInData=W.propertyInData=W.isOwnProperty=W.hasPropFunc=W.reportMissingProp=W.checkMissingProp=W.checkReportMissingProp=void 0;var Y=j(),Yn=G(),Dt=vt(),zf=G();function Kf(t,e){let{gen:r,data:a,it:s}=t;r.if(ei(r,a,e,s.opts.ownProperties),()=>{t.setParams({missingProperty:(0,Y._)`${e}`},!0),t.error()})}W.checkReportMissingProp=Kf;function Bf({gen:t,data:e,it:{opts:r}},a,s){return(0,Y.or)(...a.map(n=>(0,Y.and)(ei(t,e,n,r.ownProperties),(0,Y._)`${s} = ${n}`)))}W.checkMissingProp=Bf;function Jf(t,e){t.setParams({missingProperty:e},!0),t.error()}W.reportMissingProp=Jf;function Hc(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Y._)`Object.prototype.hasOwnProperty`})}W.hasPropFunc=Hc;function Zn(t,e,r){return(0,Y._)`${Hc(t)}.call(${e}, ${r})`}W.isOwnProperty=Zn;function Wf(t,e,r,a){let s=(0,Y._)`${e}${(0,Y.getProperty)(r)} !== undefined`;return a?(0,Y._)`${s} && ${Zn(t,e,r)}`:s}W.propertyInData=Wf;function ei(t,e,r,a){let s=(0,Y._)`${e}${(0,Y.getProperty)(r)} === undefined`;return a?(0,Y.or)(s,(0,Y.not)(Zn(t,e,r))):s}W.noPropertyInData=ei;function Uc(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}W.allSchemaProperties=Uc;function Qf(t,e){return Uc(e).filter(r=>!(0,Yn.alwaysValidSchema)(t,e[r]))}W.schemaProperties=Qf;function Xf({schemaCode:t,data:e,it:{gen:r,topSchemaRef:a,schemaPath:s,errorPath:n},it:i},c,d,f){let m=f?(0,Y._)`${t}, ${e}, ${a}${s}`:e,h=[[Dt.default.instancePath,(0,Y.strConcat)(Dt.default.instancePath,n)],[Dt.default.parentData,i.parentData],[Dt.default.parentDataProperty,i.parentDataProperty],[Dt.default.rootData,Dt.default.rootData]];i.opts.dynamicRef&&h.push([Dt.default.dynamicAnchors,Dt.default.dynamicAnchors]);let $=(0,Y._)`${m}, ${r.object(...h)}`;return d!==Y.nil?(0,Y._)`${c}.call(${d}, ${$})`:(0,Y._)`${c}(${$})`}W.callValidateCode=Xf;var Yf=(0,Y._)`new RegExp`;function Zf({gen:t,it:{opts:e}},r){let a=e.unicodeRegExp?"u":"",{regExp:s}=e.code,n=s(r,a);return t.scopeValue("pattern",{key:n.toString(),ref:n,code:(0,Y._)`${s.code==="new RegExp"?Yf:(0,zf.useFunc)(t,s)}(${r}, ${a})`})}W.usePattern=Zf;function em(t){let{gen:e,data:r,keyword:a,it:s}=t,n=e.name("valid");if(s.allErrors){let c=e.let("valid",!0);return i(()=>e.assign(c,!1)),c}return e.var(n,!0),i(()=>e.break()),n;function i(c){let d=e.const("len",(0,Y._)`${r}.length`);e.forRange("i",0,d,f=>{t.subschema({keyword:a,dataProp:f,dataPropType:Yn.Type.Num},n),e.if((0,Y.not)(n),c)})}}W.validateArray=em;function tm(t){let{gen:e,schema:r,keyword:a,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(d=>(0,Yn.alwaysValidSchema)(s,d))&&!s.opts.unevaluated)return;let i=e.let("valid",!1),c=e.name("_valid");e.block(()=>r.forEach((d,f)=>{let m=t.subschema({keyword:a,schemaProp:f,compositeRule:!0},c);e.assign(i,(0,Y._)`${i} || ${c}`),t.mergeValidEvaluated(m,c)||e.if((0,Y.not)(i))})),t.result(i,()=>t.reset(),()=>t.error(!0))}W.validateUnion=tm});var Kc=M(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.validateKeywordUsage=tt.validSchemaType=tt.funcKeywordCode=tt.macroKeywordCode=void 0;var we=j(),ir=vt(),rm=je(),am=Oa();function sm(t,e){let{gen:r,keyword:a,schema:s,parentSchema:n,it:i}=t,c=e.macro.call(i.self,s,n,i),d=zc(r,a,c);i.opts.validateSchema!==!1&&i.self.validateSchema(c,!0);let f=r.name("valid");t.subschema({schema:c,schemaPath:we.nil,errSchemaPath:`${i.errSchemaPath}/${a}`,topSchemaRef:d,compositeRule:!0},f),t.pass(f,()=>t.error(!0))}tt.macroKeywordCode=sm;function nm(t,e){var r;let{gen:a,keyword:s,schema:n,parentSchema:i,$data:c,it:d}=t;om(d,e);let f=!c&&e.compile?e.compile.call(d.self,n,i,d):e.validate,m=zc(a,s,f),h=a.let("valid");t.block$data(h,$),t.ok((r=e.valid)!==null&&r!==void 0?r:h);function $(){if(e.errors===!1)v(),e.modifying&&Gc(t),E(()=>t.error());else{let S=e.async?b():_();e.modifying&&Gc(t),E(()=>im(t,S))}}function b(){let S=a.let("ruleErrs",null);return a.try(()=>v((0,we._)`await `),L=>a.assign(h,!1).if((0,we._)`${L} instanceof ${d.ValidationError}`,()=>a.assign(S,(0,we._)`${L}.errors`),()=>a.throw(L))),S}function _(){let S=(0,we._)`${m}.errors`;return a.assign(S,null),v(we.nil),S}function v(S=e.async?(0,we._)`await `:we.nil){let L=d.opts.passContext?ir.default.this:ir.default.self,O=!("compile"in e&&!c||e.schema===!1);a.assign(h,(0,we._)`${S}${(0,rm.callValidateCode)(t,m,L,O)}`,e.modifying)}function E(S){var L;a.if((0,we.not)((L=e.valid)!==null&&L!==void 0?L:h),S)}}tt.funcKeywordCode=nm;function Gc(t){let{gen:e,data:r,it:a}=t;e.if(a.parentData,()=>e.assign(r,(0,we._)`${a.parentData}[${a.parentDataProperty}]`))}function im(t,e){let{gen:r}=t;r.if((0,we._)`Array.isArray(${e})`,()=>{r.assign(ir.default.vErrors,(0,we._)`${ir.default.vErrors} === null ? ${e} : ${ir.default.vErrors}.concat(${e})`).assign(ir.default.errors,(0,we._)`${ir.default.vErrors}.length`),(0,am.extendErrors)(t)},()=>t.error())}function om({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function zc(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,we.stringify)(r)})}function cm(t,e,r=!1){return!e.length||e.some(a=>a==="array"?Array.isArray(t):a==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==a||r&&typeof t>"u")}tt.validSchemaType=cm;function lm({schema:t,opts:e,self:r,errSchemaPath:a},s,n){if(Array.isArray(s.keyword)?!s.keyword.includes(n):s.keyword!==n)throw new Error("ajv implementation error");let i=s.dependencies;if(i!=null&&i.some(c=>!Object.prototype.hasOwnProperty.call(t,c)))throw new Error(`parent schema must have dependencies of ${n}: ${i.join(",")}`);if(s.validateSchema&&!s.validateSchema(t[n])){let d=`keyword "${n}" value is invalid at path "${a}": `+r.errorsText(s.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(d);else throw new Error(d)}}tt.validateKeywordUsage=lm});var Jc=M(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.extendSubschemaMode=It.extendSubschemaData=It.getSubschema=void 0;var rt=j(),Bc=G();function um(t,{keyword:e,schemaProp:r,schema:a,schemaPath:s,errSchemaPath:n,topSchemaRef:i}){if(e!==void 0&&a!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let c=t.schema[e];return r===void 0?{schema:c,schemaPath:(0,rt._)`${t.schemaPath}${(0,rt.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:c[r],schemaPath:(0,rt._)`${t.schemaPath}${(0,rt.getProperty)(e)}${(0,rt.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,Bc.escapeFragment)(r)}`}}if(a!==void 0){if(s===void 0||n===void 0||i===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:a,schemaPath:s,topSchemaRef:i,errSchemaPath:n}}throw new Error('either "keyword" or "schema" must be passed')}It.getSubschema=um;function dm(t,e,{dataProp:r,dataPropType:a,data:s,dataTypes:n,propertyName:i}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:c}=e;if(r!==void 0){let{errorPath:f,dataPathArr:m,opts:h}=e,$=c.let("data",(0,rt._)`${e.data}${(0,rt.getProperty)(r)}`,!0);d($),t.errorPath=(0,rt.str)`${f}${(0,Bc.getErrorPath)(r,a,h.jsPropertySyntax)}`,t.parentDataProperty=(0,rt._)`${r}`,t.dataPathArr=[...m,t.parentDataProperty]}if(s!==void 0){let f=s instanceof rt.Name?s:c.let("data",s,!0);d(f),i!==void 0&&(t.propertyName=i)}n&&(t.dataTypes=n);function d(f){t.data=f,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,f]}}It.extendSubschemaData=dm;function fm(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:a,createErrors:s,allErrors:n}){a!==void 0&&(t.compositeRule=a),s!==void 0&&(t.createErrors=s),n!==void 0&&(t.allErrors=n),t.jtdDiscriminator=e,t.jtdMetadata=r}It.extendSubschemaMode=fm});var ti=M((Lv,Wc)=>{"use strict";Wc.exports=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var a,s,n;if(Array.isArray(e)){if(a=e.length,a!=r.length)return!1;for(s=a;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(n=Object.keys(e),a=n.length,a!==Object.keys(r).length)return!1;for(s=a;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,n[s]))return!1;for(s=a;s--!==0;){var i=n[s];if(!t(e[i],r[i]))return!1}return!0}return e!==e&&r!==r}});var Xc=M((xv,Qc)=>{"use strict";var Nt=Qc.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var a=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};ks(e,a,s,t,"",t)};Nt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Nt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Nt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Nt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function ks(t,e,r,a,s,n,i,c,d,f){if(a&&typeof a=="object"&&!Array.isArray(a)){e(a,s,n,i,c,d,f);for(var m in a){var h=a[m];if(Array.isArray(h)){if(m in Nt.arrayKeywords)for(var $=0;$<h.length;$++)ks(t,e,r,h[$],s+"/"+m+"/"+$,n,s,m,a,$)}else if(m in Nt.propsKeywords){if(h&&typeof h=="object")for(var b in h)ks(t,e,r,h[b],s+"/"+m+"/"+mm(b),n,s,m,a,b)}else(m in Nt.keywords||t.allKeys&&!(m in Nt.skipKeywords))&&ks(t,e,r,h,s+"/"+m,n,s,m,a)}r(a,s,n,i,c,d,f)}}function mm(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var ja=M(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.getSchemaRefs=Me.resolveUrl=Me.normalizeId=Me._getFullPath=Me.getFullPath=Me.inlineRef=void 0;var hm=G(),pm=ti(),gm=Xc(),ym=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function vm(t,e=!0){return typeof t=="boolean"?!0:e===!0?!ri(t):e?Yc(t)<=e:!1}Me.inlineRef=vm;var _m=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function ri(t){for(let e in t){if(_m.has(e))return!0;let r=t[e];if(Array.isArray(r)&&r.some(ri)||typeof r=="object"&&ri(r))return!0}return!1}function Yc(t){let e=0;for(let r in t){if(r==="$ref")return 1/0;if(e++,!ym.has(r)&&(typeof t[r]=="object"&&(0,hm.eachItem)(t[r],a=>e+=Yc(a)),e===1/0))return 1/0}return e}function Zc(t,e="",r){r!==!1&&(e=Br(e));let a=t.parse(e);return el(t,a)}Me.getFullPath=Zc;function el(t,e){return t.serialize(e).split("#")[0]+"#"}Me._getFullPath=el;var $m=/#\/?$/;function Br(t){return t?t.replace($m,""):""}Me.normalizeId=Br;function bm(t,e,r){return r=Br(r),t.resolve(e,r)}Me.resolveUrl=bm;var Em=/^[a-z_][-a-z0-9._]*$/i;function Sm(t,e){if(typeof t=="boolean")return{};let{schemaId:r,uriResolver:a}=this.opts,s=Br(t[r]||e),n={"":s},i=Zc(a,s,!1),c={},d=new Set;return gm(t,{allKeys:!0},(h,$,b,_)=>{if(_===void 0)return;let v=i+$,E=n[_];typeof h[r]=="string"&&(E=S.call(this,h[r])),L.call(this,h.$anchor),L.call(this,h.$dynamicAnchor),n[$]=E;function S(O){let B=this.opts.uriResolver.resolve;if(O=Br(E?B(E,O):O),d.has(O))throw m(O);d.add(O);let D=this.refs[O];return typeof D=="string"&&(D=this.refs[D]),typeof D=="object"?f(h,D.schema,O):O!==Br(v)&&(O[0]==="#"?(f(h,c[O],O),c[O]=h):this.refs[O]=v),O}function L(O){if(typeof O=="string"){if(!Em.test(O))throw new Error(`invalid anchor "${O}"`);S.call(this,`#${O}`)}}}),c;function f(h,$,b){if($!==void 0&&!pm(h,$))throw m(b)}function m(h){return new Error(`reference "${h}" resolves to more than one schema`)}}Me.getSchemaRefs=Sm});var Va=M(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.getData=Rt.KeywordCxt=Rt.validateFunctionCode=void 0;var il=Oc(),tl=qa(),si=Jn(),Ds=qa(),wm=Fc(),xa=Kc(),ai=Jc(),P=j(),I=vt(),Cm=ja(),_t=G(),La=Oa();function Mm(t){if(ll(t)&&(ul(t),cl(t))){km(t);return}ol(t,()=>(0,il.topBoolOrEmptySchema)(t))}Rt.validateFunctionCode=Mm;function ol({gen:t,validateName:e,schema:r,schemaEnv:a,opts:s},n){s.code.es5?t.func(e,(0,P._)`${I.default.data}, ${I.default.valCxt}`,a.$async,()=>{t.code((0,P._)`"use strict"; ${rl(r,s)}`),Pm(t,s),t.code(n)}):t.func(e,(0,P._)`${I.default.data}, ${Tm(s)}`,a.$async,()=>t.code(rl(r,s)).code(n))}function Tm(t){return(0,P._)`{${I.default.instancePath}="", ${I.default.parentData}, ${I.default.parentDataProperty}, ${I.default.rootData}=${I.default.data}${t.dynamicRef?(0,P._)`, ${I.default.dynamicAnchors}={}`:P.nil}}={}`}function Pm(t,e){t.if(I.default.valCxt,()=>{t.var(I.default.instancePath,(0,P._)`${I.default.valCxt}.${I.default.instancePath}`),t.var(I.default.parentData,(0,P._)`${I.default.valCxt}.${I.default.parentData}`),t.var(I.default.parentDataProperty,(0,P._)`${I.default.valCxt}.${I.default.parentDataProperty}`),t.var(I.default.rootData,(0,P._)`${I.default.valCxt}.${I.default.rootData}`),e.dynamicRef&&t.var(I.default.dynamicAnchors,(0,P._)`${I.default.valCxt}.${I.default.dynamicAnchors}`)},()=>{t.var(I.default.instancePath,(0,P._)`""`),t.var(I.default.parentData,(0,P._)`undefined`),t.var(I.default.parentDataProperty,(0,P._)`undefined`),t.var(I.default.rootData,I.default.data),e.dynamicRef&&t.var(I.default.dynamicAnchors,(0,P._)`{}`)})}function km(t){let{schema:e,opts:r,gen:a}=t;ol(t,()=>{r.$comment&&e.$comment&&fl(t),Om(t),a.let(I.default.vErrors,null),a.let(I.default.errors,0),r.unevaluated&&Dm(t),dl(t),jm(t)})}function Dm(t){let{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,P._)`${r}.evaluated`),e.if((0,P._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,P._)`${t.evaluated}.props`,(0,P._)`undefined`)),e.if((0,P._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,P._)`${t.evaluated}.items`,(0,P._)`undefined`))}function rl(t,e){let r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,P._)`/*# sourceURL=${r} */`:P.nil}function Im(t,e){if(ll(t)&&(ul(t),cl(t))){Nm(t,e);return}(0,il.boolOrEmptySchema)(t,e)}function cl({schema:t,self:e}){if(typeof t=="boolean")return!t;for(let r in t)if(e.RULES.all[r])return!0;return!1}function ll(t){return typeof t.schema!="boolean"}function Nm(t,e){let{schema:r,gen:a,opts:s}=t;s.$comment&&r.$comment&&fl(t),Am(t),qm(t);let n=a.const("_errs",I.default.errors);dl(t,n),a.var(e,(0,P._)`${n} === ${I.default.errors}`)}function ul(t){(0,_t.checkUnknownRules)(t),Rm(t)}function dl(t,e){if(t.opts.jtd)return al(t,[],!1,e);let r=(0,tl.getSchemaTypes)(t.schema),a=(0,tl.coerceAndCheckDataType)(t,r);al(t,r,!a,e)}function Rm(t){let{schema:e,errSchemaPath:r,opts:a,self:s}=t;e.$ref&&a.ignoreKeywordsWithRef&&(0,_t.schemaHasRulesButRef)(e,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Om(t){let{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,_t.checkStrictMode)(t,"default is ignored in the schema root")}function Am(t){let e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,Cm.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function qm(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function fl({gen:t,schemaEnv:e,schema:r,errSchemaPath:a,opts:s}){let n=r.$comment;if(s.$comment===!0)t.code((0,P._)`${I.default.self}.logger.log(${n})`);else if(typeof s.$comment=="function"){let i=(0,P.str)`${a}/$comment`,c=t.scopeValue("root",{ref:e.root});t.code((0,P._)`${I.default.self}.opts.$comment(${n}, ${i}, ${c}.schema)`)}}function jm(t){let{gen:e,schemaEnv:r,validateName:a,ValidationError:s,opts:n}=t;r.$async?e.if((0,P._)`${I.default.errors} === 0`,()=>e.return(I.default.data),()=>e.throw((0,P._)`new ${s}(${I.default.vErrors})`)):(e.assign((0,P._)`${a}.errors`,I.default.vErrors),n.unevaluated&&Lm(t),e.return((0,P._)`${I.default.errors} === 0`))}function Lm({gen:t,evaluated:e,props:r,items:a}){r instanceof P.Name&&t.assign((0,P._)`${e}.props`,r),a instanceof P.Name&&t.assign((0,P._)`${e}.items`,a)}function al(t,e,r,a){let{gen:s,schema:n,data:i,allErrors:c,opts:d,self:f}=t,{RULES:m}=f;if(n.$ref&&(d.ignoreKeywordsWithRef||!(0,_t.schemaHasRulesButRef)(n,m))){s.block(()=>ml(t,"$ref",m.all.$ref.definition));return}d.jtd||xm(t,e),s.block(()=>{for(let $ of m.rules)h($);h(m.post)});function h($){!(0,si.shouldUseGroup)(n,$)||($.type?(s.if((0,Ds.checkDataType)($.type,i,d.strictNumbers)),sl(t,$),e.length===1&&e[0]===$.type&&r&&(s.else(),(0,Ds.reportTypeError)(t)),s.endIf()):sl(t,$),c||s.if((0,P._)`${I.default.errors} === ${a||0}`))}}function sl(t,e){let{gen:r,schema:a,opts:{useDefaults:s}}=t;s&&(0,wm.assignDefaults)(t,e.type),r.block(()=>{for(let n of e.rules)(0,si.shouldUseRule)(a,n)&&ml(t,n.keyword,n.definition,e.type)})}function xm(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(Vm(t,e),t.opts.allowUnionTypes||Fm(t,e),Hm(t,t.dataTypes))}function Vm(t,e){if(!!e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{nl(t.dataTypes,r)||ni(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),t.dataTypes=t.dataTypes.filter(r=>nl(e,r))}}function Fm(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&ni(t,"use allowUnionTypes to allow union type keyword")}function Hm(t,e){let r=t.self.RULES.all;for(let a in r){let s=r[a];if(typeof s=="object"&&(0,si.shouldUseRule)(t.schema,s)){let{type:n}=s.definition;n.length&&!n.some(i=>Um(e,i))&&ni(t,`missing type "${n.join(",")}" for keyword "${a}"`)}}}function Um(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function nl(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function ni(t,e){let r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,(0,_t.checkStrictMode)(t,e,t.opts.strictTypes)}var Is=class{constructor(e,r,a){if((0,xa.validateKeywordUsage)(e,r,a),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=a,this.data=e.data,this.schema=e.schema[a],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,_t.schemaRefOrVal)(e,this.schema,a,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",hl(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,xa.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${a} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",I.default.errors))}result(e,r,a){this.failResult((0,P.not)(e),r,a)}failResult(e,r,a){this.gen.if(e),a?a():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,P.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:r}=this;this.fail((0,P._)`${r} !== undefined && (${(0,P.or)(this.invalid$data(),e)})`)}error(e,r,a){if(r){this.setParams(r),this._error(e,a),this.setParams({});return}this._error(e,a)}_error(e,r){(e?La.reportExtraError:La.reportError)(this,this.def.error,r)}$dataError(){(0,La.reportError)(this,this.def.$dataError||La.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,La.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,a=P.nil){this.gen.block(()=>{this.check$data(e,a),r()})}check$data(e=P.nil,r=P.nil){if(!this.$data)return;let{gen:a,schemaCode:s,schemaType:n,def:i}=this;a.if((0,P.or)((0,P._)`${s} === undefined`,r)),e!==P.nil&&a.assign(e,!0),(n.length||i.validateSchema)&&(a.elseIf(this.invalid$data()),this.$dataError(),e!==P.nil&&a.assign(e,!1)),a.else()}invalid$data(){let{gen:e,schemaCode:r,schemaType:a,def:s,it:n}=this;return(0,P.or)(i(),c());function i(){if(a.length){if(!(r instanceof P.Name))throw new Error("ajv implementation error");let d=Array.isArray(a)?a:[a];return(0,P._)`${(0,Ds.checkDataTypes)(d,r,n.opts.strictNumbers,Ds.DataType.Wrong)}`}return P.nil}function c(){if(s.validateSchema){let d=e.scopeValue("validate$data",{ref:s.validateSchema});return(0,P._)`!${d}(${r})`}return P.nil}}subschema(e,r){let a=(0,ai.getSubschema)(this.it,e);(0,ai.extendSubschemaData)(a,this.it,e),(0,ai.extendSubschemaMode)(a,e);let s=Oe(se(se({},this.it),a),{items:void 0,props:void 0});return Im(s,r),s}mergeEvaluated(e,r){let{it:a,gen:s}=this;!a.opts.unevaluated||(a.props!==!0&&e.props!==void 0&&(a.props=_t.mergeEvaluated.props(s,e.props,a.props,r)),a.items!==!0&&e.items!==void 0&&(a.items=_t.mergeEvaluated.items(s,e.items,a.items,r)))}mergeValidEvaluated(e,r){let{it:a,gen:s}=this;if(a.opts.unevaluated&&(a.props!==!0||a.items!==!0))return s.if(r,()=>this.mergeEvaluated(e,P.Name)),!0}};Rt.KeywordCxt=Is;function ml(t,e,r,a){let s=new Is(t,r,e);"code"in r?r.code(s,a):s.$data&&r.validate?(0,xa.funcKeywordCode)(s,r):"macro"in r?(0,xa.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,xa.funcKeywordCode)(s,r)}var Gm=/^\/(?:[^~]|~0|~1)*$/,zm=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function hl(t,{dataLevel:e,dataNames:r,dataPathArr:a}){let s,n;if(t==="")return I.default.rootData;if(t[0]==="/"){if(!Gm.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);s=t,n=I.default.rootData}else{let f=zm.exec(t);if(!f)throw new Error(`Invalid JSON-pointer: ${t}`);let m=+f[1];if(s=f[2],s==="#"){if(m>=e)throw new Error(d("property/index",m));return a[e-m]}if(m>e)throw new Error(d("data",m));if(n=r[e-m],!s)return n}let i=n,c=s.split("/");for(let f of c)f&&(n=(0,P._)`${n}${(0,P.getProperty)((0,_t.unescapeJsonPointer)(f))}`,i=(0,P._)`${i} && ${n}`);return i;function d(f,m){return`Cannot access ${f} ${m} levels up, current level is ${e}`}}Rt.getData=hl});var Ns=M(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});var ii=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};oi.default=ii});var Rs=M(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});var ci=ja(),li=class extends Error{constructor(e,r,a,s){super(s||`can't resolve reference ${a} from id ${r}`),this.missingRef=(0,ci.resolveUrl)(e,r,a),this.missingSchema=(0,ci.normalizeId)((0,ci.getFullPath)(e,this.missingRef))}};ui.default=li});var As=M(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.resolveSchema=Le.getCompilingSchema=Le.resolveRef=Le.compileSchema=Le.SchemaEnv=void 0;var Ue=j(),Km=Ns(),or=vt(),Ge=ja(),pl=G(),Bm=Va(),Jr=class{constructor(e){var r;this.refs={},this.dynamicAnchors={};let a;typeof e.schema=="object"&&(a=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,Ge.normalizeId)(a==null?void 0:a[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=a==null?void 0:a.$async,this.refs={}}};Le.SchemaEnv=Jr;function fi(t){let e=gl.call(this,t);if(e)return e;let r=(0,Ge.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:a,lines:s}=this.opts.code,{ownProperties:n}=this.opts,i=new Ue.CodeGen(this.scope,{es5:a,lines:s,ownProperties:n}),c;t.$async&&(c=i.scopeValue("Error",{ref:Km.default,code:(0,Ue._)`require("ajv/dist/runtime/validation_error").default`}));let d=i.scopeName("validate");t.validateName=d;let f={gen:i,allErrors:this.opts.allErrors,data:or.default.data,parentData:or.default.parentData,parentDataProperty:or.default.parentDataProperty,dataNames:[or.default.data],dataPathArr:[Ue.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,Ue.stringify)(t.schema)}:{ref:t.schema}),validateName:d,ValidationError:c,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:Ue.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Ue._)`""`,opts:this.opts,self:this},m;try{this._compilations.add(t),(0,Bm.validateFunctionCode)(f),i.optimize(this.opts.code.optimize);let h=i.toString();m=`${i.scopeRefs(or.default.scope)}return ${h}`,this.opts.code.process&&(m=this.opts.code.process(m,t));let b=new Function(`${or.default.self}`,`${or.default.scope}`,m)(this,this.scope.get());if(this.scope.value(d,{ref:b}),b.errors=null,b.schema=t.schema,b.schemaEnv=t,t.$async&&(b.$async=!0),this.opts.code.source===!0&&(b.source={validateName:d,validateCode:h,scopeValues:i._values}),this.opts.unevaluated){let{props:_,items:v}=f;b.evaluated={props:_ instanceof Ue.Name?void 0:_,items:v instanceof Ue.Name?void 0:v,dynamicProps:_ instanceof Ue.Name,dynamicItems:v instanceof Ue.Name},b.source&&(b.source.evaluated=(0,Ue.stringify)(b.evaluated))}return t.validate=b,t}catch(h){throw delete t.validate,delete t.validateName,m&&this.logger.error("Error compiling schema, function code:",m),h}finally{this._compilations.delete(t)}}Le.compileSchema=fi;function Jm(t,e,r){var a;r=(0,Ge.resolveUrl)(this.opts.uriResolver,e,r);let s=t.refs[r];if(s)return s;let n=Xm.call(this,t,r);if(n===void 0){let i=(a=t.localRefs)===null||a===void 0?void 0:a[r],{schemaId:c}=this.opts;i&&(n=new Jr({schema:i,schemaId:c,root:t,baseId:e}))}if(n!==void 0)return t.refs[r]=Wm.call(this,n)}Le.resolveRef=Jm;function Wm(t){return(0,Ge.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:fi.call(this,t)}function gl(t){for(let e of this._compilations)if(Qm(e,t))return e}Le.getCompilingSchema=gl;function Qm(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function Xm(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||Os.call(this,t,e)}function Os(t,e){let r=this.opts.uriResolver.parse(e),a=(0,Ge._getFullPath)(this.opts.uriResolver,r),s=(0,Ge.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&a===s)return di.call(this,r,t);let n=(0,Ge.normalizeId)(a),i=this.refs[n]||this.schemas[n];if(typeof i=="string"){let c=Os.call(this,t,i);return typeof(c==null?void 0:c.schema)!="object"?void 0:di.call(this,r,c)}if(typeof(i==null?void 0:i.schema)=="object"){if(i.validate||fi.call(this,i),n===(0,Ge.normalizeId)(e)){let{schema:c}=i,{schemaId:d}=this.opts,f=c[d];return f&&(s=(0,Ge.resolveUrl)(this.opts.uriResolver,s,f)),new Jr({schema:c,schemaId:d,root:t,baseId:s})}return di.call(this,r,i)}}Le.resolveSchema=Os;var Ym=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function di(t,{baseId:e,schema:r,root:a}){var s;if(((s=t.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(let c of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let d=r[(0,pl.unescapeFragment)(c)];if(d===void 0)return;r=d;let f=typeof r=="object"&&r[this.opts.schemaId];!Ym.has(c)&&f&&(e=(0,Ge.resolveUrl)(this.opts.uriResolver,e,f))}let n;if(typeof r!="boolean"&&r.$ref&&!(0,pl.schemaHasRulesButRef)(r,this.RULES)){let c=(0,Ge.resolveUrl)(this.opts.uriResolver,e,r.$ref);n=Os.call(this,a,c)}let{schemaId:i}=this.opts;if(n=n||new Jr({schema:r,schemaId:i,root:a,baseId:e}),n.schema!==n.root.schema)return n}});var yl=M((Kv,Zm)=>{Zm.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var _l=M((qs,vl)=>{(function(t,e){typeof qs=="object"&&typeof vl<"u"?e(qs):typeof define=="function"&&define.amd?define(["exports"],e):e(t.URI=t.URI||{})})(qs,function(t){"use strict";function e(){for(var l=arguments.length,o=Array(l),u=0;u<l;u++)o[u]=arguments[u];if(o.length>1){o[0]=o[0].slice(0,-1);for(var p=o.length-1,g=1;g<p;++g)o[g]=o[g].slice(1,-1);return o[p]=o[p].slice(1),o.join("")}else return o[0]}function r(l){return"(?:"+l+")"}function a(l){return l===void 0?"undefined":l===null?"null":Object.prototype.toString.call(l).split(" ").pop().split("]").shift().toLowerCase()}function s(l){return l.toUpperCase()}function n(l){return l!=null?l instanceof Array?l:typeof l.length!="number"||l.split||l.setInterval||l.call?[l]:Array.prototype.slice.call(l):[]}function i(l,o){var u=l;if(o)for(var p in o)u[p]=o[p];return u}function c(l){var o="[A-Za-z]",u="[\\x0D]",p="[0-9]",g="[\\x22]",w=e(p,"[A-Fa-f]"),N="[\\x0A]",H="[\\x20]",K=r(r("%[EFef]"+w+"%"+w+w+"%"+w+w)+"|"+r("%[89A-Fa-f]"+w+"%"+w+w)+"|"+r("%"+w+w)),ie="[\\:\\/\\?\\#\\[\\]\\@]",V="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",te=e(ie,V),oe=l?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Z=l?"[\\uE000-\\uF8FF]":"[]",z=e(o,p,"[\\-\\.\\_\\~]",oe),re=r(o+e(o,p,"[\\+\\-\\.]")+"*"),J=r(r(K+"|"+e(z,V,"[\\:]"))+"*"),jt=r(r("25[0-5]")+"|"+r("2[0-4]"+p)+"|"+r("1"+p+p)+"|"+r("[1-9]"+p)+"|"+p),Pe=r(r("25[0-5]")+"|"+r("2[0-4]"+p)+"|"+r("1"+p+p)+"|"+r("0?[1-9]"+p)+"|0?0?"+p),Ne=r(Pe+"\\."+Pe+"\\."+Pe+"\\."+Pe),Q=r(w+"{1,4}"),ke=r(r(Q+"\\:"+Q)+"|"+Ne),Re=r(r(Q+"\\:")+"{6}"+ke),Qe=r("\\:\\:"+r(Q+"\\:")+"{5}"+ke),Lt=r(r(Q)+"?\\:\\:"+r(Q+"\\:")+"{4}"+ke),it=r(r(r(Q+"\\:")+"{0,1}"+Q)+"?\\:\\:"+r(Q+"\\:")+"{3}"+ke),aa=r(r(r(Q+"\\:")+"{0,2}"+Q)+"?\\:\\:"+r(Q+"\\:")+"{2}"+ke),rs=r(r(r(Q+"\\:")+"{0,3}"+Q)+"?\\:\\:"+Q+"\\:"+ke),as=r(r(r(Q+"\\:")+"{0,4}"+Q)+"?\\:\\:"+ke),pr=r(r(r(Q+"\\:")+"{0,5}"+Q)+"?\\:\\:"+Q),gr=r(r(r(Q+"\\:")+"{0,6}"+Q)+"?\\:\\:"),ot=r([Re,Qe,Lt,it,aa,rs,as,pr,gr].join("|")),yr=r(r(z+"|"+K)+"+"),an=r(ot+"\\%25"+yr),xt=r(ot+r("\\%25|\\%(?!"+w+"{2})")+yr),cd=r("[vV]"+w+"+\\."+e(z,V,"[\\:]")+"+"),ld=r("\\["+r(xt+"|"+ot+"|"+cd)+"\\]"),So=r(r(K+"|"+e(z,V))+"*"),sa=r(ld+"|"+Ne+"(?!"+So+")|"+So),na=r(p+"*"),wo=r(r(J+"@")+"?"+sa+r("\\:"+na)+"?"),ia=r(K+"|"+e(z,V,"[\\:\\@]")),ud=r(ia+"*"),Co=r(ia+"+"),dd=r(r(K+"|"+e(z,V,"[\\@]"))+"+"),ct=r(r("\\/"+ud)+"*"),vr=r("\\/"+r(Co+ct)+"?"),sn=r(dd+ct),ss=r(Co+ct),_r="(?!"+ia+")",jg=r(ct+"|"+vr+"|"+sn+"|"+ss+"|"+_r),$r=r(r(ia+"|"+e("[\\/\\?]",Z))+"*"),oa=r(r(ia+"|[\\/\\?]")+"*"),Mo=r(r("\\/\\/"+wo+ct)+"|"+vr+"|"+ss+"|"+_r),fd=r(re+"\\:"+Mo+r("\\?"+$r)+"?"+r("\\#"+oa)+"?"),md=r(r("\\/\\/"+wo+ct)+"|"+vr+"|"+sn+"|"+_r),hd=r(md+r("\\?"+$r)+"?"+r("\\#"+oa)+"?"),Lg=r(fd+"|"+hd),xg=r(re+"\\:"+Mo+r("\\?"+$r)+"?"),Vg="^("+re+")\\:"+r(r("\\/\\/("+r("("+J+")@")+"?("+sa+")"+r("\\:("+na+")")+"?)")+"?("+ct+"|"+vr+"|"+ss+"|"+_r+")")+r("\\?("+$r+")")+"?"+r("\\#("+oa+")")+"?$",Fg="^(){0}"+r(r("\\/\\/("+r("("+J+")@")+"?("+sa+")"+r("\\:("+na+")")+"?)")+"?("+ct+"|"+vr+"|"+sn+"|"+_r+")")+r("\\?("+$r+")")+"?"+r("\\#("+oa+")")+"?$",Hg="^("+re+")\\:"+r(r("\\/\\/("+r("("+J+")@")+"?("+sa+")"+r("\\:("+na+")")+"?)")+"?("+ct+"|"+vr+"|"+ss+"|"+_r+")")+r("\\?("+$r+")")+"?$",Ug="^"+r("\\#("+oa+")")+"?$",Gg="^"+r("("+J+")@")+"?("+sa+")"+r("\\:("+na+")")+"?$";return{NOT_SCHEME:new RegExp(e("[^]",o,p,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",z,V),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",z,V),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",z,V),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",z,V),"g"),NOT_QUERY:new RegExp(e("[^\\%]",z,V,"[\\:\\@\\/\\?]",Z),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",z,V,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",z,V),"g"),UNRESERVED:new RegExp(z,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",z,te),"g"),PCT_ENCODED:new RegExp(K,"g"),IPV4ADDRESS:new RegExp("^("+Ne+")$"),IPV6ADDRESS:new RegExp("^\\[?("+ot+")"+r(r("\\%25|\\%(?!"+w+"{2})")+"("+yr+")")+"?\\]?$")}}var d=c(!1),f=c(!0),m=function(){function l(o,u){var p=[],g=!0,w=!1,N=void 0;try{for(var H=o[Symbol.iterator](),K;!(g=(K=H.next()).done)&&(p.push(K.value),!(u&&p.length===u));g=!0);}catch(ie){w=!0,N=ie}finally{try{!g&&H.return&&H.return()}finally{if(w)throw N}}return p}return function(o,u){if(Array.isArray(o))return o;if(Symbol.iterator in Object(o))return l(o,u);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(l){if(Array.isArray(l)){for(var o=0,u=Array(l.length);o<l.length;o++)u[o]=l[o];return u}else return Array.from(l)},$=2147483647,b=36,_=1,v=26,E=38,S=700,L=72,O=128,B="-",D=/^xn--/,De=/[^\0-\x7E]/,$t=/[\x2E\u3002\uFF0E\uFF61]/g,ea={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},At=b-_,ge=Math.floor,qt=String.fromCharCode;function Ke(l){throw new RangeError(ea[l])}function es(l,o){for(var u=[],p=l.length;p--;)u[p]=o(l[p]);return u}function ts(l,o){var u=l.split("@"),p="";u.length>1&&(p=u[0]+"@",l=u[1]),l=l.replace($t,".");var g=l.split("."),w=es(g,o).join(".");return p+w}function so(l){for(var o=[],u=0,p=l.length;u<p;){var g=l.charCodeAt(u++);if(g>=55296&&g<=56319&&u<p){var w=l.charCodeAt(u++);(w&64512)==56320?o.push(((g&1023)<<10)+(w&1023)+65536):(o.push(g),u--)}else o.push(g)}return o}var Lu=function(o){return String.fromCodePoint.apply(String,h(o))},xu=function(o){return o-48<10?o-22:o-65<26?o-65:o-97<26?o-97:b},no=function(o,u){return o+22+75*(o<26)-((u!=0)<<5)},io=function(o,u,p){var g=0;for(o=p?ge(o/S):o>>1,o+=ge(o/u);o>At*v>>1;g+=b)o=ge(o/At);return ge(g+(At+1)*o/(o+E))},oo=function(o){var u=[],p=o.length,g=0,w=O,N=L,H=o.lastIndexOf(B);H<0&&(H=0);for(var K=0;K<H;++K)o.charCodeAt(K)>=128&&Ke("not-basic"),u.push(o.charCodeAt(K));for(var ie=H>0?H+1:0;ie<p;){for(var V=g,te=1,oe=b;;oe+=b){ie>=p&&Ke("invalid-input");var Z=xu(o.charCodeAt(ie++));(Z>=b||Z>ge(($-g)/te))&&Ke("overflow"),g+=Z*te;var z=oe<=N?_:oe>=N+v?v:oe-N;if(Z<z)break;var re=b-z;te>ge($/re)&&Ke("overflow"),te*=re}var J=u.length+1;N=io(g-V,J,V==0),ge(g/J)>$-w&&Ke("overflow"),w+=ge(g/J),g%=J,u.splice(g++,0,w)}return String.fromCodePoint.apply(String,u)},co=function(o){var u=[];o=so(o);var p=o.length,g=O,w=0,N=L,H=!0,K=!1,ie=void 0;try{for(var V=o[Symbol.iterator](),te;!(H=(te=V.next()).done);H=!0){var oe=te.value;oe<128&&u.push(qt(oe))}}catch(xt){K=!0,ie=xt}finally{try{!H&&V.return&&V.return()}finally{if(K)throw ie}}var Z=u.length,z=Z;for(Z&&u.push(B);z<p;){var re=$,J=!0,jt=!1,Pe=void 0;try{for(var Ne=o[Symbol.iterator](),Q;!(J=(Q=Ne.next()).done);J=!0){var ke=Q.value;ke>=g&&ke<re&&(re=ke)}}catch(xt){jt=!0,Pe=xt}finally{try{!J&&Ne.return&&Ne.return()}finally{if(jt)throw Pe}}var Re=z+1;re-g>ge(($-w)/Re)&&Ke("overflow"),w+=(re-g)*Re,g=re;var Qe=!0,Lt=!1,it=void 0;try{for(var aa=o[Symbol.iterator](),rs;!(Qe=(rs=aa.next()).done);Qe=!0){var as=rs.value;if(as<g&&++w>$&&Ke("overflow"),as==g){for(var pr=w,gr=b;;gr+=b){var ot=gr<=N?_:gr>=N+v?v:gr-N;if(pr<ot)break;var yr=pr-ot,an=b-ot;u.push(qt(no(ot+yr%an,0))),pr=ge(yr/an)}u.push(qt(no(pr,0))),N=io(w,Re,z==Z),w=0,++z}}}catch(xt){Lt=!0,it=xt}finally{try{!Qe&&aa.return&&aa.return()}finally{if(Lt)throw it}}++w,++g}return u.join("")},Vu=function(o){return ts(o,function(u){return D.test(u)?oo(u.slice(4).toLowerCase()):u})},Fu=function(o){return ts(o,function(u){return De.test(u)?"xn--"+co(u):u})},dr={version:"2.1.0",ucs2:{decode:so,encode:Lu},decode:oo,encode:co,toASCII:Fu,toUnicode:Vu},Ie={};function Be(l){var o=l.charCodeAt(0),u=void 0;return o<16?u="%0"+o.toString(16).toUpperCase():o<128?u="%"+o.toString(16).toUpperCase():o<2048?u="%"+(o>>6|192).toString(16).toUpperCase()+"%"+(o&63|128).toString(16).toUpperCase():u="%"+(o>>12|224).toString(16).toUpperCase()+"%"+(o>>6&63|128).toString(16).toUpperCase()+"%"+(o&63|128).toString(16).toUpperCase(),u}function fr(l){for(var o="",u=0,p=l.length;u<p;){var g=parseInt(l.substr(u+1,2),16);if(g<128)o+=String.fromCharCode(g),u+=3;else if(g>=194&&g<224){if(p-u>=6){var w=parseInt(l.substr(u+4,2),16);o+=String.fromCharCode((g&31)<<6|w&63)}else o+=l.substr(u,6);u+=6}else if(g>=224){if(p-u>=9){var N=parseInt(l.substr(u+4,2),16),H=parseInt(l.substr(u+7,2),16);o+=String.fromCharCode((g&15)<<12|(N&63)<<6|H&63)}else o+=l.substr(u,9);u+=9}else o+=l.substr(u,3),u+=3}return o}function Zs(l,o){function u(p){var g=fr(p);return g.match(o.UNRESERVED)?g:p}return l.scheme&&(l.scheme=String(l.scheme).replace(o.PCT_ENCODED,u).toLowerCase().replace(o.NOT_SCHEME,"")),l.userinfo!==void 0&&(l.userinfo=String(l.userinfo).replace(o.PCT_ENCODED,u).replace(o.NOT_USERINFO,Be).replace(o.PCT_ENCODED,s)),l.host!==void 0&&(l.host=String(l.host).replace(o.PCT_ENCODED,u).toLowerCase().replace(o.NOT_HOST,Be).replace(o.PCT_ENCODED,s)),l.path!==void 0&&(l.path=String(l.path).replace(o.PCT_ENCODED,u).replace(l.scheme?o.NOT_PATH:o.NOT_PATH_NOSCHEME,Be).replace(o.PCT_ENCODED,s)),l.query!==void 0&&(l.query=String(l.query).replace(o.PCT_ENCODED,u).replace(o.NOT_QUERY,Be).replace(o.PCT_ENCODED,s)),l.fragment!==void 0&&(l.fragment=String(l.fragment).replace(o.PCT_ENCODED,u).replace(o.NOT_FRAGMENT,Be).replace(o.PCT_ENCODED,s)),l}function en(l){return l.replace(/^0*(.*)/,"$1")||"0"}function tn(l,o){var u=l.match(o.IPV4ADDRESS)||[],p=m(u,2),g=p[1];return g?g.split(".").map(en).join("."):l}function lo(l,o){var u=l.match(o.IPV6ADDRESS)||[],p=m(u,3),g=p[1],w=p[2];if(g){for(var N=g.toLowerCase().split("::").reverse(),H=m(N,2),K=H[0],ie=H[1],V=ie?ie.split(":").map(en):[],te=K.split(":").map(en),oe=o.IPV4ADDRESS.test(te[te.length-1]),Z=oe?7:8,z=te.length-Z,re=Array(Z),J=0;J<Z;++J)re[J]=V[J]||te[z+J]||"";oe&&(re[Z-1]=tn(re[Z-1],o));var jt=re.reduce(function(Re,Qe,Lt){if(!Qe||Qe==="0"){var it=Re[Re.length-1];it&&it.index+it.length===Lt?it.length++:Re.push({index:Lt,length:1})}return Re},[]),Pe=jt.sort(function(Re,Qe){return Qe.length-Re.length})[0],Ne=void 0;if(Pe&&Pe.length>1){var Q=re.slice(0,Pe.index),ke=re.slice(Pe.index+Pe.length);Ne=Q.join(":")+"::"+ke.join(":")}else Ne=re.join(":");return w&&(Ne+="%"+w),Ne}else return l}var Hu=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Uu="".match(/(){0}/)[1]===void 0;function st(l){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u={},p=o.iri!==!1?f:d;o.reference==="suffix"&&(l=(o.scheme?o.scheme+":":"")+"//"+l);var g=l.match(Hu);if(g){Uu?(u.scheme=g[1],u.userinfo=g[3],u.host=g[4],u.port=parseInt(g[5],10),u.path=g[6]||"",u.query=g[7],u.fragment=g[8],isNaN(u.port)&&(u.port=g[5])):(u.scheme=g[1]||void 0,u.userinfo=l.indexOf("@")!==-1?g[3]:void 0,u.host=l.indexOf("//")!==-1?g[4]:void 0,u.port=parseInt(g[5],10),u.path=g[6]||"",u.query=l.indexOf("?")!==-1?g[7]:void 0,u.fragment=l.indexOf("#")!==-1?g[8]:void 0,isNaN(u.port)&&(u.port=l.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?g[4]:void 0)),u.host&&(u.host=lo(tn(u.host,p),p)),u.scheme===void 0&&u.userinfo===void 0&&u.host===void 0&&u.port===void 0&&!u.path&&u.query===void 0?u.reference="same-document":u.scheme===void 0?u.reference="relative":u.fragment===void 0?u.reference="absolute":u.reference="uri",o.reference&&o.reference!=="suffix"&&o.reference!==u.reference&&(u.error=u.error||"URI is not a "+o.reference+" reference.");var w=Ie[(o.scheme||u.scheme||"").toLowerCase()];if(!o.unicodeSupport&&(!w||!w.unicodeSupport)){if(u.host&&(o.domainHost||w&&w.domainHost))try{u.host=dr.toASCII(u.host.replace(p.PCT_ENCODED,fr).toLowerCase())}catch(N){u.error=u.error||"Host's domain name can not be converted to ASCII via punycode: "+N}Zs(u,d)}else Zs(u,p);w&&w.parse&&w.parse(u,o)}else u.error=u.error||"URI can not be parsed.";return u}function Gu(l,o){var u=o.iri!==!1?f:d,p=[];return l.userinfo!==void 0&&(p.push(l.userinfo),p.push("@")),l.host!==void 0&&p.push(lo(tn(String(l.host),u),u).replace(u.IPV6ADDRESS,function(g,w,N){return"["+w+(N?"%25"+N:"")+"]"})),(typeof l.port=="number"||typeof l.port=="string")&&(p.push(":"),p.push(String(l.port))),p.length?p.join(""):void 0}var uo=/^\.\.?\//,fo=/^\/\.(\/|$)/,mo=/^\/\.\.(\/|$)/,zu=/^\/?(?:.|\n)*?(?=\/|$)/;function mr(l){for(var o=[];l.length;)if(l.match(uo))l=l.replace(uo,"");else if(l.match(fo))l=l.replace(fo,"/");else if(l.match(mo))l=l.replace(mo,"/"),o.pop();else if(l==="."||l==="..")l="";else{var u=l.match(zu);if(u){var p=u[0];l=l.slice(p.length),o.push(p)}else throw new Error("Unexpected dot segment condition")}return o.join("")}function Je(l){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=o.iri?f:d,p=[],g=Ie[(o.scheme||l.scheme||"").toLowerCase()];if(g&&g.serialize&&g.serialize(l,o),l.host&&!u.IPV6ADDRESS.test(l.host)){if(o.domainHost||g&&g.domainHost)try{l.host=o.iri?dr.toUnicode(l.host):dr.toASCII(l.host.replace(u.PCT_ENCODED,fr).toLowerCase())}catch(H){l.error=l.error||"Host's domain name can not be converted to "+(o.iri?"Unicode":"ASCII")+" via punycode: "+H}}Zs(l,u),o.reference!=="suffix"&&l.scheme&&(p.push(l.scheme),p.push(":"));var w=Gu(l,o);if(w!==void 0&&(o.reference!=="suffix"&&p.push("//"),p.push(w),l.path&&l.path.charAt(0)!=="/"&&p.push("/")),l.path!==void 0){var N=l.path;!o.absolutePath&&(!g||!g.absolutePath)&&(N=mr(N)),w===void 0&&(N=N.replace(/^\/\//,"/%2F")),p.push(N)}return l.query!==void 0&&(p.push("?"),p.push(l.query)),l.fragment!==void 0&&(p.push("#"),p.push(l.fragment)),p.join("")}function ho(l,o){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},p=arguments[3],g={};return p||(l=st(Je(l,u),u),o=st(Je(o,u),u)),u=u||{},!u.tolerant&&o.scheme?(g.scheme=o.scheme,g.userinfo=o.userinfo,g.host=o.host,g.port=o.port,g.path=mr(o.path||""),g.query=o.query):(o.userinfo!==void 0||o.host!==void 0||o.port!==void 0?(g.userinfo=o.userinfo,g.host=o.host,g.port=o.port,g.path=mr(o.path||""),g.query=o.query):(o.path?(o.path.charAt(0)==="/"?g.path=mr(o.path):((l.userinfo!==void 0||l.host!==void 0||l.port!==void 0)&&!l.path?g.path="/"+o.path:l.path?g.path=l.path.slice(0,l.path.lastIndexOf("/")+1)+o.path:g.path=o.path,g.path=mr(g.path)),g.query=o.query):(g.path=l.path,o.query!==void 0?g.query=o.query:g.query=l.query),g.userinfo=l.userinfo,g.host=l.host,g.port=l.port),g.scheme=l.scheme),g.fragment=o.fragment,g}function Ku(l,o,u){var p=i({scheme:"null"},u);return Je(ho(st(l,p),st(o,p),p,!0),p)}function Bu(l,o){return typeof l=="string"?l=Je(st(l,o),o):a(l)==="object"&&(l=st(Je(l,o),o)),l}function Ju(l,o,u){return typeof l=="string"?l=Je(st(l,u),u):a(l)==="object"&&(l=Je(l,u)),typeof o=="string"?o=Je(st(o,u),u):a(o)==="object"&&(o=Je(o,u)),l===o}function Wu(l,o){return l&&l.toString().replace(!o||!o.iri?d.ESCAPE:f.ESCAPE,Be)}function nt(l,o){return l&&l.toString().replace(!o||!o.iri?d.PCT_ENCODED:f.PCT_ENCODED,fr)}var ta={scheme:"http",domainHost:!0,parse:function(o,u){return o.host||(o.error=o.error||"HTTP URIs must have a host."),o},serialize:function(o,u){var p=String(o.scheme).toLowerCase()==="https";return(o.port===(p?443:80)||o.port==="")&&(o.port=void 0),o.path||(o.path="/"),o}},po={scheme:"https",domainHost:ta.domainHost,parse:ta.parse,serialize:ta.serialize};function go(l){return typeof l.secure=="boolean"?l.secure:String(l.scheme).toLowerCase()==="wss"}var ra={scheme:"ws",domainHost:!0,parse:function(o,u){var p=o;return p.secure=go(p),p.resourceName=(p.path||"/")+(p.query?"?"+p.query:""),p.path=void 0,p.query=void 0,p},serialize:function(o,u){if((o.port===(go(o)?443:80)||o.port==="")&&(o.port=void 0),typeof o.secure=="boolean"&&(o.scheme=o.secure?"wss":"ws",o.secure=void 0),o.resourceName){var p=o.resourceName.split("?"),g=m(p,2),w=g[0],N=g[1];o.path=w&&w!=="/"?w:void 0,o.query=N,o.resourceName=void 0}return o.fragment=void 0,o}},yo={scheme:"wss",domainHost:ra.domainHost,parse:ra.parse,serialize:ra.serialize},Qu={},Xu=!0,vo="[A-Za-z0-9\\-\\.\\_\\~"+(Xu?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",We="[0-9A-Fa-f]",Yu=r(r("%[EFef]"+We+"%"+We+We+"%"+We+We)+"|"+r("%[89A-Fa-f]"+We+"%"+We+We)+"|"+r("%"+We+We)),Zu="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",ed="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",td=e(ed,'[\\"\\\\]'),rd="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",ad=new RegExp(vo,"g"),hr=new RegExp(Yu,"g"),sd=new RegExp(e("[^]",Zu,"[\\.]",'[\\"]',td),"g"),_o=new RegExp(e("[^]",vo,rd),"g"),nd=_o;function rn(l){var o=fr(l);return o.match(ad)?o:l}var $o={scheme:"mailto",parse:function(o,u){var p=o,g=p.to=p.path?p.path.split(","):[];if(p.path=void 0,p.query){for(var w=!1,N={},H=p.query.split("&"),K=0,ie=H.length;K<ie;++K){var V=H[K].split("=");switch(V[0]){case"to":for(var te=V[1].split(","),oe=0,Z=te.length;oe<Z;++oe)g.push(te[oe]);break;case"subject":p.subject=nt(V[1],u);break;case"body":p.body=nt(V[1],u);break;default:w=!0,N[nt(V[0],u)]=nt(V[1],u);break}}w&&(p.headers=N)}p.query=void 0;for(var z=0,re=g.length;z<re;++z){var J=g[z].split("@");if(J[0]=nt(J[0]),u.unicodeSupport)J[1]=nt(J[1],u).toLowerCase();else try{J[1]=dr.toASCII(nt(J[1],u).toLowerCase())}catch(jt){p.error=p.error||"Email address's domain name can not be converted to ASCII via punycode: "+jt}g[z]=J.join("@")}return p},serialize:function(o,u){var p=o,g=n(o.to);if(g){for(var w=0,N=g.length;w<N;++w){var H=String(g[w]),K=H.lastIndexOf("@"),ie=H.slice(0,K).replace(hr,rn).replace(hr,s).replace(sd,Be),V=H.slice(K+1);try{V=u.iri?dr.toUnicode(V):dr.toASCII(nt(V,u).toLowerCase())}catch(z){p.error=p.error||"Email address's domain name can not be converted to "+(u.iri?"Unicode":"ASCII")+" via punycode: "+z}g[w]=ie+"@"+V}p.path=g.join(",")}var te=o.headers=o.headers||{};o.subject&&(te.subject=o.subject),o.body&&(te.body=o.body);var oe=[];for(var Z in te)te[Z]!==Qu[Z]&&oe.push(Z.replace(hr,rn).replace(hr,s).replace(_o,Be)+"="+te[Z].replace(hr,rn).replace(hr,s).replace(nd,Be));return oe.length&&(p.query=oe.join("&")),p}},id=/^([^\:]+)\:(.*)/,bo={scheme:"urn",parse:function(o,u){var p=o.path&&o.path.match(id),g=o;if(p){var w=u.scheme||g.scheme||"urn",N=p[1].toLowerCase(),H=p[2],K=w+":"+(u.nid||N),ie=Ie[K];g.nid=N,g.nss=H,g.path=void 0,ie&&(g=ie.parse(g,u))}else g.error=g.error||"URN can not be parsed.";return g},serialize:function(o,u){var p=u.scheme||o.scheme||"urn",g=o.nid,w=p+":"+(u.nid||g),N=Ie[w];N&&(o=N.serialize(o,u));var H=o,K=o.nss;return H.path=(g||u.nid)+":"+K,H}},od=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Eo={scheme:"urn:uuid",parse:function(o,u){var p=o;return p.uuid=p.nss,p.nss=void 0,!u.tolerant&&(!p.uuid||!p.uuid.match(od))&&(p.error=p.error||"UUID is not valid."),p},serialize:function(o,u){var p=o;return p.nss=(o.uuid||"").toLowerCase(),p}};Ie[ta.scheme]=ta,Ie[po.scheme]=po,Ie[ra.scheme]=ra,Ie[yo.scheme]=yo,Ie[$o.scheme]=$o,Ie[bo.scheme]=bo,Ie[Eo.scheme]=Eo,t.SCHEMES=Ie,t.pctEncChar=Be,t.pctDecChars=fr,t.parse=st,t.removeDotSegments=mr,t.serialize=Je,t.resolveComponents=ho,t.resolve=Ku,t.normalize=Bu,t.equal=Ju,t.escapeComponent=Wu,t.unescapeComponent=nt,Object.defineProperty(t,"__esModule",{value:!0})})});var bl=M(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});var $l=_l();$l.code='require("ajv/dist/runtime/uri").default';mi.default=$l});var kl=M(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.CodeGen=he.Name=he.nil=he.stringify=he.str=he._=he.KeywordCxt=void 0;var eh=Va();Object.defineProperty(he,"KeywordCxt",{enumerable:!0,get:function(){return eh.KeywordCxt}});var Wr=j();Object.defineProperty(he,"_",{enumerable:!0,get:function(){return Wr._}});Object.defineProperty(he,"str",{enumerable:!0,get:function(){return Wr.str}});Object.defineProperty(he,"stringify",{enumerable:!0,get:function(){return Wr.stringify}});Object.defineProperty(he,"nil",{enumerable:!0,get:function(){return Wr.nil}});Object.defineProperty(he,"Name",{enumerable:!0,get:function(){return Wr.Name}});Object.defineProperty(he,"CodeGen",{enumerable:!0,get:function(){return Wr.CodeGen}});var th=Ns(),Ml=Rs(),rh=Bn(),Fa=As(),ah=j(),Ha=ja(),js=qa(),pi=G(),El=yl(),sh=bl(),Tl=(t,e)=>new RegExp(t,e);Tl.code="new RegExp";var nh=["removeAdditional","useDefaults","coerceTypes"],ih=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),oh={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},ch={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},Sl=200;function lh(t){var e,r,a,s,n,i,c,d,f,m,h,$,b,_,v,E,S,L,O,B,D,De,$t,ea,At;let ge=t.strict,qt=(e=t.code)===null||e===void 0?void 0:e.optimize,Ke=qt===!0||qt===void 0?1:qt||0,es=(a=(r=t.code)===null||r===void 0?void 0:r.regExp)!==null&&a!==void 0?a:Tl,ts=(s=t.uriResolver)!==null&&s!==void 0?s:sh.default;return{strictSchema:(i=(n=t.strictSchema)!==null&&n!==void 0?n:ge)!==null&&i!==void 0?i:!0,strictNumbers:(d=(c=t.strictNumbers)!==null&&c!==void 0?c:ge)!==null&&d!==void 0?d:!0,strictTypes:(m=(f=t.strictTypes)!==null&&f!==void 0?f:ge)!==null&&m!==void 0?m:"log",strictTuples:($=(h=t.strictTuples)!==null&&h!==void 0?h:ge)!==null&&$!==void 0?$:"log",strictRequired:(_=(b=t.strictRequired)!==null&&b!==void 0?b:ge)!==null&&_!==void 0?_:!1,code:t.code?Oe(se({},t.code),{optimize:Ke,regExp:es}):{optimize:Ke,regExp:es},loopRequired:(v=t.loopRequired)!==null&&v!==void 0?v:Sl,loopEnum:(E=t.loopEnum)!==null&&E!==void 0?E:Sl,meta:(S=t.meta)!==null&&S!==void 0?S:!0,messages:(L=t.messages)!==null&&L!==void 0?L:!0,inlineRefs:(O=t.inlineRefs)!==null&&O!==void 0?O:!0,schemaId:(B=t.schemaId)!==null&&B!==void 0?B:"$id",addUsedSchema:(D=t.addUsedSchema)!==null&&D!==void 0?D:!0,validateSchema:(De=t.validateSchema)!==null&&De!==void 0?De:!0,validateFormats:($t=t.validateFormats)!==null&&$t!==void 0?$t:!0,unicodeRegExp:(ea=t.unicodeRegExp)!==null&&ea!==void 0?ea:!0,int32range:(At=t.int32range)!==null&&At!==void 0?At:!0,uriResolver:ts}}var Ua=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts=se(se({},e),lh(e));let{es5:r,lines:a}=this.opts.code;this.scope=new ah.ValueScope({scope:{},prefixes:ih,es5:r,lines:a}),this.logger=ph(e.logger);let s=e.validateFormats;e.validateFormats=!1,this.RULES=(0,rh.getRules)(),wl.call(this,oh,e,"NOT SUPPORTED"),wl.call(this,ch,e,"DEPRECATED","warn"),this._metaOpts=mh.call(this),e.formats&&dh.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&fh.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),uh.call(this),e.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:r,schemaId:a}=this.opts,s=El;a==="id"&&(s=se({},El),s.id=s.$id,delete s.$id),r&&e&&this.addMetaSchema(s,s[a],!1)}defaultMeta(){let{meta:e,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[r]||e:void 0}validate(e,r){let a;if(typeof e=="string"){if(a=this.getSchema(e),!a)throw new Error(`no schema with key or ref "${e}"`)}else a=this.compile(e);let s=a(r);return"$async"in a||(this.errors=a.errors),s}compile(e,r){let a=this._addSchema(e,r);return a.validate||this._compileSchemaEnv(a)}compileAsync(e,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:a}=this.opts;return s.call(this,e,r);async function s(m,h){await n.call(this,m.$schema);let $=this._addSchema(m,h);return $.validate||i.call(this,$)}async function n(m){m&&!this.getSchema(m)&&await s.call(this,{$ref:m},!0)}async function i(m){try{return this._compileSchemaEnv(m)}catch(h){if(!(h instanceof Ml.default))throw h;return c.call(this,h),await d.call(this,h.missingSchema),i.call(this,m)}}function c({missingSchema:m,missingRef:h}){if(this.refs[m])throw new Error(`AnySchema ${m} is loaded but ${h} cannot be resolved`)}async function d(m){let h=await f.call(this,m);this.refs[m]||await n.call(this,h.$schema),this.refs[m]||this.addSchema(h,m,r)}async function f(m){let h=this._loading[m];if(h)return h;try{return await(this._loading[m]=a(m))}finally{delete this._loading[m]}}}addSchema(e,r,a,s=this.opts.validateSchema){if(Array.isArray(e)){for(let i of e)this.addSchema(i,void 0,a,s);return this}let n;if(typeof e=="object"){let{schemaId:i}=this.opts;if(n=e[i],n!==void 0&&typeof n!="string")throw new Error(`schema ${i} must be string`)}return r=(0,Ha.normalizeId)(r||n),this._checkUnique(r),this.schemas[r]=this._addSchema(e,a,r,s,!0),this}addMetaSchema(e,r,a=this.opts.validateSchema){return this.addSchema(e,r,!0,a),this}validateSchema(e,r){if(typeof e=="boolean")return!0;let a;if(a=e.$schema,a!==void 0&&typeof a!="string")throw new Error("$schema must be a string");if(a=a||this.opts.defaultMeta||this.defaultMeta(),!a)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let s=this.validate(a,e);if(!s&&r){let n="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(n);else throw new Error(n)}return s}getSchema(e){let r;for(;typeof(r=Cl.call(this,e))=="string";)e=r;if(r===void 0){let{schemaId:a}=this.opts,s=new Fa.SchemaEnv({schema:{},schemaId:a});if(r=Fa.resolveSchema.call(this,s,e),!r)return;this.refs[e]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=Cl.call(this,e);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let r=e;this._cache.delete(r);let a=e[this.opts.schemaId];return a&&(a=(0,Ha.normalizeId)(a),delete this.schemas[a],delete this.refs[a]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let r of e)this.addKeyword(r);return this}addKeyword(e,r){let a;if(typeof e=="string")a=e,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=a);else if(typeof e=="object"&&r===void 0){if(r=e,a=r.keyword,Array.isArray(a)&&!a.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(yh.call(this,a,r),!r)return(0,pi.eachItem)(a,n=>hi.call(this,n)),this;_h.call(this,r);let s=Oe(se({},r),{type:(0,js.getJSONTypes)(r.type),schemaType:(0,js.getJSONTypes)(r.schemaType)});return(0,pi.eachItem)(a,s.type.length===0?n=>hi.call(this,n,s):n=>s.type.forEach(i=>hi.call(this,n,s,i))),this}getKeyword(e){let r=this.RULES.all[e];return typeof r=="object"?r.definition:!!r}removeKeyword(e){let{RULES:r}=this;delete r.keywords[e],delete r.all[e];for(let a of r.rules){let s=a.rules.findIndex(n=>n.keyword===e);s>=0&&a.rules.splice(s,1)}return this}addFormat(e,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[e]=r,this}errorsText(e=this.errors,{separator:r=", ",dataVar:a="data"}={}){return!e||e.length===0?"No errors":e.map(s=>`${a}${s.instancePath} ${s.message}`).reduce((s,n)=>s+r+n)}$dataMetaSchema(e,r){let a=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let s of r){let n=s.split("/").slice(1),i=e;for(let c of n)i=i[c];for(let c in a){let d=a[c];if(typeof d!="object")continue;let{$data:f}=d.definition,m=i[c];f&&m&&(i[c]=Pl(m))}}return e}_removeAllSchemas(e,r){for(let a in e){let s=e[a];(!r||r.test(a))&&(typeof s=="string"?delete e[a]:s&&!s.meta&&(this._cache.delete(s.schema),delete e[a]))}}_addSchema(e,r,a,s=this.opts.validateSchema,n=this.opts.addUsedSchema){let i,{schemaId:c}=this.opts;if(typeof e=="object")i=e[c];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let d=this._cache.get(e);if(d!==void 0)return d;a=(0,Ha.normalizeId)(i||a);let f=Ha.getSchemaRefs.call(this,e,a);return d=new Fa.SchemaEnv({schema:e,schemaId:c,meta:r,baseId:a,localRefs:f}),this._cache.set(d.schema,d),n&&!a.startsWith("#")&&(a&&this._checkUnique(a),this.refs[a]=d),s&&this.validateSchema(e,!0),d}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):Fa.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let r=this.opts;this.opts=this._metaOpts;try{Fa.compileSchema.call(this,e)}finally{this.opts=r}}};he.default=Ua;Ua.ValidationError=th.default;Ua.MissingRefError=Ml.default;function wl(t,e,r,a="error"){for(let s in t){let n=s;n in e&&this.logger[a](`${r}: option ${s}. ${t[n]}`)}}function Cl(t){return t=(0,Ha.normalizeId)(t),this.schemas[t]||this.refs[t]}function uh(){let t=this.opts.schemas;if(!!t)if(Array.isArray(t))this.addSchema(t);else for(let e in t)this.addSchema(t[e],e)}function dh(){for(let t in this.opts.formats){let e=this.opts.formats[t];e&&this.addFormat(t,e)}}function fh(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in t){let r=t[e];r.keyword||(r.keyword=e),this.addKeyword(r)}}function mh(){let t=se({},this.opts);for(let e of nh)delete t[e];return t}var hh={log(){},warn(){},error(){}};function ph(t){if(t===!1)return hh;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var gh=/^[a-z_$][a-z0-9_$:-]*$/i;function yh(t,e){let{RULES:r}=this;if((0,pi.eachItem)(t,a=>{if(r.keywords[a])throw new Error(`Keyword ${a} is already defined`);if(!gh.test(a))throw new Error(`Keyword ${a} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function hi(t,e,r){var a;let s=e==null?void 0:e.post;if(r&&s)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:n}=this,i=s?n.post:n.rules.find(({type:d})=>d===r);if(i||(i={type:r,rules:[]},n.rules.push(i)),n.keywords[t]=!0,!e)return;let c={keyword:t,definition:Oe(se({},e),{type:(0,js.getJSONTypes)(e.type),schemaType:(0,js.getJSONTypes)(e.schemaType)})};e.before?vh.call(this,i,c,e.before):i.rules.push(c),n.all[t]=c,(a=e.implements)===null||a===void 0||a.forEach(d=>this.addKeyword(d))}function vh(t,e,r){let a=t.rules.findIndex(s=>s.keyword===r);a>=0?t.rules.splice(a,0,e):(t.rules.push(e),this.logger.warn(`rule ${r} is not defined`))}function _h(t){let{metaSchema:e}=t;e!==void 0&&(t.$data&&this.opts.$data&&(e=Pl(e)),t.validateSchema=this.compile(e,!0))}var $h={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Pl(t){return{anyOf:[t,$h]}}});var Dl=M(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});var bh={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};gi.default=bh});var Ol=M(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.callRef=cr.getValidate=void 0;var Eh=Rs(),Il=je(),Te=j(),Qr=vt(),Nl=As(),Ls=G(),Sh={keyword:"$ref",schemaType:"string",code(t){let{gen:e,schema:r,it:a}=t,{baseId:s,schemaEnv:n,validateName:i,opts:c,self:d}=a,{root:f}=n;if((r==="#"||r==="#/")&&s===f.baseId)return h();let m=Nl.resolveRef.call(d,f,s,r);if(m===void 0)throw new Eh.default(a.opts.uriResolver,s,r);if(m instanceof Nl.SchemaEnv)return $(m);return b(m);function h(){if(n===f)return xs(t,i,n,n.$async);let _=e.scopeValue("root",{ref:f});return xs(t,(0,Te._)`${_}.validate`,f,f.$async)}function $(_){let v=Rl(t,_);xs(t,v,_,_.$async)}function b(_){let v=e.scopeValue("schema",c.code.source===!0?{ref:_,code:(0,Te.stringify)(_)}:{ref:_}),E=e.name("valid"),S=t.subschema({schema:_,dataTypes:[],schemaPath:Te.nil,topSchemaRef:v,errSchemaPath:r},E);t.mergeEvaluated(S),t.ok(E)}}};function Rl(t,e){let{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,Te._)`${r.scopeValue("wrapper",{ref:e})}.validate`}cr.getValidate=Rl;function xs(t,e,r,a){let{gen:s,it:n}=t,{allErrors:i,schemaEnv:c,opts:d}=n,f=d.passContext?Qr.default.this:Te.nil;a?m():h();function m(){if(!c.$async)throw new Error("async schema referenced by sync schema");let _=s.let("valid");s.try(()=>{s.code((0,Te._)`await ${(0,Il.callValidateCode)(t,e,f)}`),b(e),i||s.assign(_,!0)},v=>{s.if((0,Te._)`!(${v} instanceof ${n.ValidationError})`,()=>s.throw(v)),$(v),i||s.assign(_,!1)}),t.ok(_)}function h(){t.result((0,Il.callValidateCode)(t,e,f),()=>b(e),()=>$(e))}function $(_){let v=(0,Te._)`${_}.errors`;s.assign(Qr.default.vErrors,(0,Te._)`${Qr.default.vErrors} === null ? ${v} : ${Qr.default.vErrors}.concat(${v})`),s.assign(Qr.default.errors,(0,Te._)`${Qr.default.vErrors}.length`)}function b(_){var v;if(!n.opts.unevaluated)return;let E=(v=r==null?void 0:r.validate)===null||v===void 0?void 0:v.evaluated;if(n.props!==!0)if(E&&!E.dynamicProps)E.props!==void 0&&(n.props=Ls.mergeEvaluated.props(s,E.props,n.props));else{let S=s.var("props",(0,Te._)`${_}.evaluated.props`);n.props=Ls.mergeEvaluated.props(s,S,n.props,Te.Name)}if(n.items!==!0)if(E&&!E.dynamicItems)E.items!==void 0&&(n.items=Ls.mergeEvaluated.items(s,E.items,n.items));else{let S=s.var("items",(0,Te._)`${_}.evaluated.items`);n.items=Ls.mergeEvaluated.items(s,S,n.items,Te.Name)}}}cr.callRef=xs;cr.default=Sh});var Al=M(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});var wh=Dl(),Ch=Ol(),Mh=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",wh.default,Ch.default];yi.default=Mh});var ql=M(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});var Vs=j(),Ot=Vs.operators,Fs={maximum:{okStr:"<=",ok:Ot.LTE,fail:Ot.GT},minimum:{okStr:">=",ok:Ot.GTE,fail:Ot.LT},exclusiveMaximum:{okStr:"<",ok:Ot.LT,fail:Ot.GTE},exclusiveMinimum:{okStr:">",ok:Ot.GT,fail:Ot.LTE}},Th={message:({keyword:t,schemaCode:e})=>(0,Vs.str)`must be ${Fs[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,Vs._)`{comparison: ${Fs[t].okStr}, limit: ${e}}`},Ph={keyword:Object.keys(Fs),type:"number",schemaType:"number",$data:!0,error:Th,code(t){let{keyword:e,data:r,schemaCode:a}=t;t.fail$data((0,Vs._)`${r} ${Fs[e].fail} ${a} || isNaN(${r})`)}};vi.default=Ph});var jl=M(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});var Ga=j(),kh={message:({schemaCode:t})=>(0,Ga.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,Ga._)`{multipleOf: ${t}}`},Dh={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:kh,code(t){let{gen:e,data:r,schemaCode:a,it:s}=t,n=s.opts.multipleOfPrecision,i=e.let("res"),c=n?(0,Ga._)`Math.abs(Math.round(${i}) - ${i}) > 1e-${n}`:(0,Ga._)`${i} !== parseInt(${i})`;t.fail$data((0,Ga._)`(${a} === 0 || (${i} = ${r}/${a}, ${c}))`)}};_i.default=Dh});var xl=M($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});function Ll(t){let e=t.length,r=0,a=0,s;for(;a<e;)r++,s=t.charCodeAt(a++),s>=55296&&s<=56319&&a<e&&(s=t.charCodeAt(a),(s&64512)===56320&&a++);return r}$i.default=Ll;Ll.code='require("ajv/dist/runtime/ucs2length").default'});var Vl=M(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});var lr=j(),Ih=G(),Nh=xl(),Rh={message({keyword:t,schemaCode:e}){let r=t==="maxLength"?"more":"fewer";return(0,lr.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,lr._)`{limit: ${t}}`},Oh={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Rh,code(t){let{keyword:e,data:r,schemaCode:a,it:s}=t,n=e==="maxLength"?lr.operators.GT:lr.operators.LT,i=s.opts.unicode===!1?(0,lr._)`${r}.length`:(0,lr._)`${(0,Ih.useFunc)(t.gen,Nh.default)}(${r})`;t.fail$data((0,lr._)`${i} ${n} ${a}`)}};bi.default=Oh});var Fl=M(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});var Ah=je(),Hs=j(),qh={message:({schemaCode:t})=>(0,Hs.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,Hs._)`{pattern: ${t}}`},jh={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:qh,code(t){let{data:e,$data:r,schema:a,schemaCode:s,it:n}=t,i=n.opts.unicodeRegExp?"u":"",c=r?(0,Hs._)`(new RegExp(${s}, ${i}))`:(0,Ah.usePattern)(t,a);t.fail$data((0,Hs._)`!${c}.test(${e})`)}};Ei.default=jh});var Hl=M(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});var za=j(),Lh={message({keyword:t,schemaCode:e}){let r=t==="maxProperties"?"more":"fewer";return(0,za.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,za._)`{limit: ${t}}`},xh={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Lh,code(t){let{keyword:e,data:r,schemaCode:a}=t,s=e==="maxProperties"?za.operators.GT:za.operators.LT;t.fail$data((0,za._)`Object.keys(${r}).length ${s} ${a}`)}};Si.default=xh});var Ul=M(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});var Ka=je(),Ba=j(),Vh=G(),Fh={message:({params:{missingProperty:t}})=>(0,Ba.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Ba._)`{missingProperty: ${t}}`},Hh={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Fh,code(t){let{gen:e,schema:r,schemaCode:a,data:s,$data:n,it:i}=t,{opts:c}=i;if(!n&&r.length===0)return;let d=r.length>=c.loopRequired;if(i.allErrors?f():m(),c.strictRequired){let b=t.parentSchema.properties,{definedProperties:_}=t.it;for(let v of r)if((b==null?void 0:b[v])===void 0&&!_.has(v)){let E=i.schemaEnv.baseId+i.errSchemaPath,S=`required property "${v}" is not defined at "${E}" (strictRequired)`;(0,Vh.checkStrictMode)(i,S,i.opts.strictRequired)}}function f(){if(d||n)t.block$data(Ba.nil,h);else for(let b of r)(0,Ka.checkReportMissingProp)(t,b)}function m(){let b=e.let("missing");if(d||n){let _=e.let("valid",!0);t.block$data(_,()=>$(b,_)),t.ok(_)}else e.if((0,Ka.checkMissingProp)(t,r,b)),(0,Ka.reportMissingProp)(t,b),e.else()}function h(){e.forOf("prop",a,b=>{t.setParams({missingProperty:b}),e.if((0,Ka.noPropertyInData)(e,s,b,c.ownProperties),()=>t.error())})}function $(b,_){t.setParams({missingProperty:b}),e.forOf(b,a,()=>{e.assign(_,(0,Ka.propertyInData)(e,s,b,c.ownProperties)),e.if((0,Ba.not)(_),()=>{t.error(),e.break()})},Ba.nil)}}};wi.default=Hh});var Gl=M(Ci=>{"use strict";Object.defineProperty(Ci,"__esModule",{value:!0});var Ja=j(),Uh={message({keyword:t,schemaCode:e}){let r=t==="maxItems"?"more":"fewer";return(0,Ja.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,Ja._)`{limit: ${t}}`},Gh={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Uh,code(t){let{keyword:e,data:r,schemaCode:a}=t,s=e==="maxItems"?Ja.operators.GT:Ja.operators.LT;t.fail$data((0,Ja._)`${r}.length ${s} ${a}`)}};Ci.default=Gh});var Us=M(Mi=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});var zl=ti();zl.code='require("ajv/dist/runtime/equal").default';Mi.default=zl});var Kl=M(Pi=>{"use strict";Object.defineProperty(Pi,"__esModule",{value:!0});var Ti=qa(),pe=j(),zh=G(),Kh=Us(),Bh={message:({params:{i:t,j:e}})=>(0,pe.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,pe._)`{i: ${t}, j: ${e}}`},Jh={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Bh,code(t){let{gen:e,data:r,$data:a,schema:s,parentSchema:n,schemaCode:i,it:c}=t;if(!a&&!s)return;let d=e.let("valid"),f=n.items?(0,Ti.getSchemaTypes)(n.items):[];t.block$data(d,m,(0,pe._)`${i} === false`),t.ok(d);function m(){let _=e.let("i",(0,pe._)`${r}.length`),v=e.let("j");t.setParams({i:_,j:v}),e.assign(d,!0),e.if((0,pe._)`${_} > 1`,()=>(h()?$:b)(_,v))}function h(){return f.length>0&&!f.some(_=>_==="object"||_==="array")}function $(_,v){let E=e.name("item"),S=(0,Ti.checkDataTypes)(f,E,c.opts.strictNumbers,Ti.DataType.Wrong),L=e.const("indices",(0,pe._)`{}`);e.for((0,pe._)`;${_}--;`,()=>{e.let(E,(0,pe._)`${r}[${_}]`),e.if(S,(0,pe._)`continue`),f.length>1&&e.if((0,pe._)`typeof ${E} == "string"`,(0,pe._)`${E} += "_"`),e.if((0,pe._)`typeof ${L}[${E}] == "number"`,()=>{e.assign(v,(0,pe._)`${L}[${E}]`),t.error(),e.assign(d,!1).break()}).code((0,pe._)`${L}[${E}] = ${_}`)})}function b(_,v){let E=(0,zh.useFunc)(e,Kh.default),S=e.name("outer");e.label(S).for((0,pe._)`;${_}--;`,()=>e.for((0,pe._)`${v} = ${_}; ${v}--;`,()=>e.if((0,pe._)`${E}(${r}[${_}], ${r}[${v}])`,()=>{t.error(),e.assign(d,!1).break(S)})))}}};Pi.default=Jh});var Bl=M(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});var ki=j(),Wh=G(),Qh=Us(),Xh={message:"must be equal to constant",params:({schemaCode:t})=>(0,ki._)`{allowedValue: ${t}}`},Yh={keyword:"const",$data:!0,error:Xh,code(t){let{gen:e,data:r,$data:a,schemaCode:s,schema:n}=t;a||n&&typeof n=="object"?t.fail$data((0,ki._)`!${(0,Wh.useFunc)(e,Qh.default)}(${r}, ${s})`):t.fail((0,ki._)`${n} !== ${r}`)}};Di.default=Yh});var Jl=M(Ii=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});var Wa=j(),Zh=G(),ep=Us(),tp={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Wa._)`{allowedValues: ${t}}`},rp={keyword:"enum",schemaType:"array",$data:!0,error:tp,code(t){let{gen:e,data:r,$data:a,schema:s,schemaCode:n,it:i}=t;if(!a&&s.length===0)throw new Error("enum must have non-empty array");let c=s.length>=i.opts.loopEnum,d,f=()=>d!=null?d:d=(0,Zh.useFunc)(e,ep.default),m;if(c||a)m=e.let("valid"),t.block$data(m,h);else{if(!Array.isArray(s))throw new Error("ajv implementation error");let b=e.const("vSchema",n);m=(0,Wa.or)(...s.map((_,v)=>$(b,v)))}t.pass(m);function h(){e.assign(m,!1),e.forOf("v",n,b=>e.if((0,Wa._)`${f()}(${r}, ${b})`,()=>e.assign(m,!0).break()))}function $(b,_){let v=s[_];return typeof v=="object"&&v!==null?(0,Wa._)`${f()}(${r}, ${b}[${_}])`:(0,Wa._)`${r} === ${v}`}}};Ii.default=rp});var Wl=M(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});var ap=ql(),sp=jl(),np=Vl(),ip=Fl(),op=Hl(),cp=Ul(),lp=Gl(),up=Kl(),dp=Bl(),fp=Jl(),mp=[ap.default,sp.default,np.default,ip.default,op.default,cp.default,lp.default,up.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},dp.default,fp.default];Ni.default=mp});var Oi=M(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});Qa.validateAdditionalItems=void 0;var ur=j(),Ri=G(),hp={message:({params:{len:t}})=>(0,ur.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,ur._)`{limit: ${t}}`},pp={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:hp,code(t){let{parentSchema:e,it:r}=t,{items:a}=e;if(!Array.isArray(a)){(0,Ri.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Ql(t,a)}};function Ql(t,e){let{gen:r,schema:a,data:s,keyword:n,it:i}=t;i.items=!0;let c=r.const("len",(0,ur._)`${s}.length`);if(a===!1)t.setParams({len:e.length}),t.pass((0,ur._)`${c} <= ${e.length}`);else if(typeof a=="object"&&!(0,Ri.alwaysValidSchema)(i,a)){let f=r.var("valid",(0,ur._)`${c} <= ${e.length}`);r.if((0,ur.not)(f),()=>d(f)),t.ok(f)}function d(f){r.forRange("i",e.length,c,m=>{t.subschema({keyword:n,dataProp:m,dataPropType:Ri.Type.Num},f),i.allErrors||r.if((0,ur.not)(f),()=>r.break())})}}Qa.validateAdditionalItems=Ql;Qa.default=pp});var Ai=M(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.validateTuple=void 0;var Xl=j(),Gs=G(),gp=je(),yp={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:e,it:r}=t;if(Array.isArray(e))return Yl(t,"additionalItems",e);r.items=!0,!(0,Gs.alwaysValidSchema)(r,e)&&t.ok((0,gp.validateArray)(t))}};function Yl(t,e,r=t.schema){let{gen:a,parentSchema:s,data:n,keyword:i,it:c}=t;m(s),c.opts.unevaluated&&r.length&&c.items!==!0&&(c.items=Gs.mergeEvaluated.items(a,r.length,c.items));let d=a.name("valid"),f=a.const("len",(0,Xl._)`${n}.length`);r.forEach((h,$)=>{(0,Gs.alwaysValidSchema)(c,h)||(a.if((0,Xl._)`${f} > ${$}`,()=>t.subschema({keyword:i,schemaProp:$,dataProp:$},d)),t.ok(d))});function m(h){let{opts:$,errSchemaPath:b}=c,_=r.length,v=_===h.minItems&&(_===h.maxItems||h[e]===!1);if($.strictTuples&&!v){let E=`"${i}" is ${_}-tuple, but minItems or maxItems/${e} are not specified or different at path "${b}"`;(0,Gs.checkStrictMode)(c,E,$.strictTuples)}}}Xa.validateTuple=Yl;Xa.default=yp});var Zl=M(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});var vp=Ai(),_p={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,vp.validateTuple)(t,"items")};qi.default=_p});var tu=M(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});var eu=j(),$p=G(),bp=je(),Ep=Oi(),Sp={message:({params:{len:t}})=>(0,eu.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,eu._)`{limit: ${t}}`},wp={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Sp,code(t){let{schema:e,parentSchema:r,it:a}=t,{prefixItems:s}=r;a.items=!0,!(0,$p.alwaysValidSchema)(a,e)&&(s?(0,Ep.validateAdditionalItems)(t,s):t.ok((0,bp.validateArray)(t)))}};ji.default=wp});var ru=M(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});var xe=j(),zs=G(),Cp={message:({params:{min:t,max:e}})=>e===void 0?(0,xe.str)`must contain at least ${t} valid item(s)`:(0,xe.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,xe._)`{minContains: ${t}}`:(0,xe._)`{minContains: ${t}, maxContains: ${e}}`},Mp={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Cp,code(t){let{gen:e,schema:r,parentSchema:a,data:s,it:n}=t,i,c,{minContains:d,maxContains:f}=a;n.opts.next?(i=d===void 0?1:d,c=f):i=1;let m=e.const("len",(0,xe._)`${s}.length`);if(t.setParams({min:i,max:c}),c===void 0&&i===0){(0,zs.checkStrictMode)(n,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(c!==void 0&&i>c){(0,zs.checkStrictMode)(n,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,zs.alwaysValidSchema)(n,r)){let v=(0,xe._)`${m} >= ${i}`;c!==void 0&&(v=(0,xe._)`${v} && ${m} <= ${c}`),t.pass(v);return}n.items=!0;let h=e.name("valid");c===void 0&&i===1?b(h,()=>e.if(h,()=>e.break())):i===0?(e.let(h,!0),c!==void 0&&e.if((0,xe._)`${s}.length > 0`,$)):(e.let(h,!1),$()),t.result(h,()=>t.reset());function $(){let v=e.name("_valid"),E=e.let("count",0);b(v,()=>e.if(v,()=>_(E)))}function b(v,E){e.forRange("i",0,m,S=>{t.subschema({keyword:"contains",dataProp:S,dataPropType:zs.Type.Num,compositeRule:!0},v),E()})}function _(v){e.code((0,xe._)`${v}++`),c===void 0?e.if((0,xe._)`${v} >= ${i}`,()=>e.assign(h,!0).break()):(e.if((0,xe._)`${v} > ${c}`,()=>e.assign(h,!1).break()),i===1?e.assign(h,!0):e.if((0,xe._)`${v} >= ${i}`,()=>e.assign(h,!0)))}}};Li.default=Mp});var nu=M(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.validateSchemaDeps=at.validatePropertyDeps=at.error=void 0;var xi=j(),Tp=G(),Ya=je();at.error={message:({params:{property:t,depsCount:e,deps:r}})=>{let a=e===1?"property":"properties";return(0,xi.str)`must have ${a} ${r} when property ${t} is present`},params:({params:{property:t,depsCount:e,deps:r,missingProperty:a}})=>(0,xi._)`{property: ${t},
    missingProperty: ${a},
    depsCount: ${e},
    deps: ${r}}`};var Pp={keyword:"dependencies",type:"object",schemaType:"object",error:at.error,code(t){let[e,r]=kp(t);au(t,e),su(t,r)}};function kp({schema:t}){let e={},r={};for(let a in t){if(a==="__proto__")continue;let s=Array.isArray(t[a])?e:r;s[a]=t[a]}return[e,r]}function au(t,e=t.schema){let{gen:r,data:a,it:s}=t;if(Object.keys(e).length===0)return;let n=r.let("missing");for(let i in e){let c=e[i];if(c.length===0)continue;let d=(0,Ya.propertyInData)(r,a,i,s.opts.ownProperties);t.setParams({property:i,depsCount:c.length,deps:c.join(", ")}),s.allErrors?r.if(d,()=>{for(let f of c)(0,Ya.checkReportMissingProp)(t,f)}):(r.if((0,xi._)`${d} && (${(0,Ya.checkMissingProp)(t,c,n)})`),(0,Ya.reportMissingProp)(t,n),r.else())}}at.validatePropertyDeps=au;function su(t,e=t.schema){let{gen:r,data:a,keyword:s,it:n}=t,i=r.name("valid");for(let c in e)(0,Tp.alwaysValidSchema)(n,e[c])||(r.if((0,Ya.propertyInData)(r,a,c,n.opts.ownProperties),()=>{let d=t.subschema({keyword:s,schemaProp:c},i);t.mergeValidEvaluated(d,i)},()=>r.var(i,!0)),t.ok(i))}at.validateSchemaDeps=su;at.default=Pp});var ou=M(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});var iu=j(),Dp=G(),Ip={message:"property name must be valid",params:({params:t})=>(0,iu._)`{propertyName: ${t.propertyName}}`},Np={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Ip,code(t){let{gen:e,schema:r,data:a,it:s}=t;if((0,Dp.alwaysValidSchema)(s,r))return;let n=e.name("valid");e.forIn("key",a,i=>{t.setParams({propertyName:i}),t.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},n),e.if((0,iu.not)(n),()=>{t.error(!0),s.allErrors||e.break()})}),t.ok(n)}};Vi.default=Np});var Hi=M(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});var Ks=je(),ze=j(),Rp=vt(),Bs=G(),Op={message:"must NOT have additional properties",params:({params:t})=>(0,ze._)`{additionalProperty: ${t.additionalProperty}}`},Ap={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Op,code(t){let{gen:e,schema:r,parentSchema:a,data:s,errsCount:n,it:i}=t;if(!n)throw new Error("ajv implementation error");let{allErrors:c,opts:d}=i;if(i.props=!0,d.removeAdditional!=="all"&&(0,Bs.alwaysValidSchema)(i,r))return;let f=(0,Ks.allSchemaProperties)(a.properties),m=(0,Ks.allSchemaProperties)(a.patternProperties);h(),t.ok((0,ze._)`${n} === ${Rp.default.errors}`);function h(){e.forIn("key",s,E=>{!f.length&&!m.length?_(E):e.if($(E),()=>_(E))})}function $(E){let S;if(f.length>8){let L=(0,Bs.schemaRefOrVal)(i,a.properties,"properties");S=(0,Ks.isOwnProperty)(e,L,E)}else f.length?S=(0,ze.or)(...f.map(L=>(0,ze._)`${E} === ${L}`)):S=ze.nil;return m.length&&(S=(0,ze.or)(S,...m.map(L=>(0,ze._)`${(0,Ks.usePattern)(t,L)}.test(${E})`))),(0,ze.not)(S)}function b(E){e.code((0,ze._)`delete ${s}[${E}]`)}function _(E){if(d.removeAdditional==="all"||d.removeAdditional&&r===!1){b(E);return}if(r===!1){t.setParams({additionalProperty:E}),t.error(),c||e.break();return}if(typeof r=="object"&&!(0,Bs.alwaysValidSchema)(i,r)){let S=e.name("valid");d.removeAdditional==="failing"?(v(E,S,!1),e.if((0,ze.not)(S),()=>{t.reset(),b(E)})):(v(E,S),c||e.if((0,ze.not)(S),()=>e.break()))}}function v(E,S,L){let O={keyword:"additionalProperties",dataProp:E,dataPropType:Bs.Type.Str};L===!1&&Object.assign(O,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(O,S)}}};Fi.default=Ap});var uu=M(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});var qp=Va(),cu=je(),Ui=G(),lu=Hi(),jp={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,parentSchema:a,data:s,it:n}=t;n.opts.removeAdditional==="all"&&a.additionalProperties===void 0&&lu.default.code(new qp.KeywordCxt(n,lu.default,"additionalProperties"));let i=(0,cu.allSchemaProperties)(r);for(let h of i)n.definedProperties.add(h);n.opts.unevaluated&&i.length&&n.props!==!0&&(n.props=Ui.mergeEvaluated.props(e,(0,Ui.toHash)(i),n.props));let c=i.filter(h=>!(0,Ui.alwaysValidSchema)(n,r[h]));if(c.length===0)return;let d=e.name("valid");for(let h of c)f(h)?m(h):(e.if((0,cu.propertyInData)(e,s,h,n.opts.ownProperties)),m(h),n.allErrors||e.else().var(d,!0),e.endIf()),t.it.definedProperties.add(h),t.ok(d);function f(h){return n.opts.useDefaults&&!n.compositeRule&&r[h].default!==void 0}function m(h){t.subschema({keyword:"properties",schemaProp:h,dataProp:h},d)}}};Gi.default=jp});var hu=M(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});var du=je(),Js=j(),fu=G(),mu=G(),Lp={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,data:a,parentSchema:s,it:n}=t,{opts:i}=n,c=(0,du.allSchemaProperties)(r),d=c.filter(v=>(0,fu.alwaysValidSchema)(n,r[v]));if(c.length===0||d.length===c.length&&(!n.opts.unevaluated||n.props===!0))return;let f=i.strictSchema&&!i.allowMatchingProperties&&s.properties,m=e.name("valid");n.props!==!0&&!(n.props instanceof Js.Name)&&(n.props=(0,mu.evaluatedPropsToName)(e,n.props));let{props:h}=n;$();function $(){for(let v of c)f&&b(v),n.allErrors?_(v):(e.var(m,!0),_(v),e.if(m))}function b(v){for(let E in f)new RegExp(v).test(E)&&(0,fu.checkStrictMode)(n,`property ${E} matches pattern ${v} (use allowMatchingProperties)`)}function _(v){e.forIn("key",a,E=>{e.if((0,Js._)`${(0,du.usePattern)(t,v)}.test(${E})`,()=>{let S=d.includes(v);S||t.subschema({keyword:"patternProperties",schemaProp:v,dataProp:E,dataPropType:mu.Type.Str},m),n.opts.unevaluated&&h!==!0?e.assign((0,Js._)`${h}[${E}]`,!0):!S&&!n.allErrors&&e.if((0,Js.not)(m),()=>e.break())})})}}};zi.default=Lp});var pu=M(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});var xp=G(),Vp={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:e,schema:r,it:a}=t;if((0,xp.alwaysValidSchema)(a,r)){t.fail();return}let s=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),t.failResult(s,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};Ki.default=Vp});var gu=M(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});var Fp=je(),Hp={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Fp.validateUnion,error:{message:"must match a schema in anyOf"}};Bi.default=Hp});var yu=M(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});var Ws=j(),Up=G(),Gp={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,Ws._)`{passingSchemas: ${t.passing}}`},zp={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Gp,code(t){let{gen:e,schema:r,parentSchema:a,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&a.discriminator)return;let n=r,i=e.let("valid",!1),c=e.let("passing",null),d=e.name("_valid");t.setParams({passing:c}),e.block(f),t.result(i,()=>t.reset(),()=>t.error(!0));function f(){n.forEach((m,h)=>{let $;(0,Up.alwaysValidSchema)(s,m)?e.var(d,!0):$=t.subschema({keyword:"oneOf",schemaProp:h,compositeRule:!0},d),h>0&&e.if((0,Ws._)`${d} && ${i}`).assign(i,!1).assign(c,(0,Ws._)`[${c}, ${h}]`).else(),e.if(d,()=>{e.assign(i,!0),e.assign(c,h),$&&t.mergeEvaluated($,Ws.Name)})})}}};Ji.default=zp});var vu=M(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});var Kp=G(),Bp={keyword:"allOf",schemaType:"array",code(t){let{gen:e,schema:r,it:a}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");let s=e.name("valid");r.forEach((n,i)=>{if((0,Kp.alwaysValidSchema)(a,n))return;let c=t.subschema({keyword:"allOf",schemaProp:i},s);t.ok(s),t.mergeEvaluated(c)})}};Wi.default=Bp});var bu=M(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});var Qs=j(),$u=G(),Jp={message:({params:t})=>(0,Qs.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,Qs._)`{failingKeyword: ${t.ifClause}}`},Wp={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Jp,code(t){let{gen:e,parentSchema:r,it:a}=t;r.then===void 0&&r.else===void 0&&(0,$u.checkStrictMode)(a,'"if" without "then" and "else" is ignored');let s=_u(a,"then"),n=_u(a,"else");if(!s&&!n)return;let i=e.let("valid",!0),c=e.name("_valid");if(d(),t.reset(),s&&n){let m=e.let("ifClause");t.setParams({ifClause:m}),e.if(c,f("then",m),f("else",m))}else s?e.if(c,f("then")):e.if((0,Qs.not)(c),f("else"));t.pass(i,()=>t.error(!0));function d(){let m=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},c);t.mergeEvaluated(m)}function f(m,h){return()=>{let $=t.subschema({keyword:m},c);e.assign(i,c),t.mergeValidEvaluated($,i),h?e.assign(h,(0,Qs._)`${m}`):t.setParams({ifClause:m})}}}};function _u(t,e){let r=t.schema[e];return r!==void 0&&!(0,$u.alwaysValidSchema)(t,r)}Qi.default=Wp});var Eu=M(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});var Qp=G(),Xp={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,Qp.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};Xi.default=Xp});var Su=M(Yi=>{"use strict";Object.defineProperty(Yi,"__esModule",{value:!0});var Yp=Oi(),Zp=Zl(),eg=Ai(),tg=tu(),rg=ru(),ag=nu(),sg=ou(),ng=Hi(),ig=uu(),og=hu(),cg=pu(),lg=gu(),ug=yu(),dg=vu(),fg=bu(),mg=Eu();function hg(t=!1){let e=[cg.default,lg.default,ug.default,dg.default,fg.default,mg.default,sg.default,ng.default,ag.default,ig.default,og.default];return t?e.push(Zp.default,tg.default):e.push(Yp.default,eg.default),e.push(rg.default),e}Yi.default=hg});var wu=M(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});var ne=j(),pg={message:({schemaCode:t})=>(0,ne.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,ne._)`{format: ${t}}`},gg={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:pg,code(t,e){let{gen:r,data:a,$data:s,schema:n,schemaCode:i,it:c}=t,{opts:d,errSchemaPath:f,schemaEnv:m,self:h}=c;if(!d.validateFormats)return;s?$():b();function $(){let _=r.scopeValue("formats",{ref:h.formats,code:d.code.formats}),v=r.const("fDef",(0,ne._)`${_}[${i}]`),E=r.let("fType"),S=r.let("format");r.if((0,ne._)`typeof ${v} == "object" && !(${v} instanceof RegExp)`,()=>r.assign(E,(0,ne._)`${v}.type || "string"`).assign(S,(0,ne._)`${v}.validate`),()=>r.assign(E,(0,ne._)`"string"`).assign(S,v)),t.fail$data((0,ne.or)(L(),O()));function L(){return d.strictSchema===!1?ne.nil:(0,ne._)`${i} && !${S}`}function O(){let B=m.$async?(0,ne._)`(${v}.async ? await ${S}(${a}) : ${S}(${a}))`:(0,ne._)`${S}(${a})`,D=(0,ne._)`(typeof ${S} == "function" ? ${B} : ${S}.test(${a}))`;return(0,ne._)`${S} && ${S} !== true && ${E} === ${e} && !${D}`}}function b(){let _=h.formats[n];if(!_){L();return}if(_===!0)return;let[v,E,S]=O(_);v===e&&t.pass(B());function L(){if(d.strictSchema===!1){h.logger.warn(D());return}throw new Error(D());function D(){return`unknown format "${n}" ignored in schema at path "${f}"`}}function O(D){let De=D instanceof RegExp?(0,ne.regexpCode)(D):d.code.formats?(0,ne._)`${d.code.formats}${(0,ne.getProperty)(n)}`:void 0,$t=r.scopeValue("formats",{key:n,ref:D,code:De});return typeof D=="object"&&!(D instanceof RegExp)?[D.type||"string",D.validate,(0,ne._)`${$t}.validate`]:["string",D,$t]}function B(){if(typeof _=="object"&&!(_ instanceof RegExp)&&_.async){if(!m.$async)throw new Error("async format in sync schema");return(0,ne._)`await ${S}(${a})`}return typeof E=="function"?(0,ne._)`${S}(${a})`:(0,ne._)`${S}.test(${a})`}}}};Zi.default=gg});var Cu=M(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});var yg=wu(),vg=[yg.default];eo.default=vg});var Mu=M(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.contentVocabulary=Xr.metadataVocabulary=void 0;Xr.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Xr.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var Pu=M(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});var _g=Al(),$g=Wl(),bg=Su(),Eg=Cu(),Tu=Mu(),Sg=[_g.default,$g.default,(0,bg.default)(),Eg.default,Tu.metadataVocabulary,Tu.contentVocabulary];to.default=Sg});var ku=M(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});Za.DiscrError=void 0;var wg;(function(t){t.Tag="tag",t.Mapping="mapping"})(wg=Za.DiscrError||(Za.DiscrError={}))});var Iu=M(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});var Yr=j(),ro=ku(),Du=As(),Cg=G(),Mg={message:({params:{discrError:t,tagName:e}})=>t===ro.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,Yr._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},Tg={keyword:"discriminator",type:"object",schemaType:"object",error:Mg,code(t){let{gen:e,data:r,schema:a,parentSchema:s,it:n}=t,{oneOf:i}=s;if(!n.opts.discriminator)throw new Error("discriminator: requires discriminator option");let c=a.propertyName;if(typeof c!="string")throw new Error("discriminator: requires propertyName");if(a.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");let d=e.let("valid",!1),f=e.const("tag",(0,Yr._)`${r}${(0,Yr.getProperty)(c)}`);e.if((0,Yr._)`typeof ${f} == "string"`,()=>m(),()=>t.error(!1,{discrError:ro.DiscrError.Tag,tag:f,tagName:c})),t.ok(d);function m(){let b=$();e.if(!1);for(let _ in b)e.elseIf((0,Yr._)`${f} === ${_}`),e.assign(d,h(b[_]));e.else(),t.error(!1,{discrError:ro.DiscrError.Mapping,tag:f,tagName:c}),e.endIf()}function h(b){let _=e.name("valid"),v=t.subschema({keyword:"oneOf",schemaProp:b},_);return t.mergeEvaluated(v,Yr.Name),_}function $(){var b;let _={},v=S(s),E=!0;for(let B=0;B<i.length;B++){let D=i[B];(D==null?void 0:D.$ref)&&!(0,Cg.schemaHasRulesButRef)(D,n.self.RULES)&&(D=Du.resolveRef.call(n.self,n.schemaEnv.root,n.baseId,D==null?void 0:D.$ref),D instanceof Du.SchemaEnv&&(D=D.schema));let De=(b=D==null?void 0:D.properties)===null||b===void 0?void 0:b[c];if(typeof De!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${c}"`);E=E&&(v||S(D)),L(De,B)}if(!E)throw new Error(`discriminator: "${c}" must be required`);return _;function S({required:B}){return Array.isArray(B)&&B.includes(c)}function L(B,D){if(B.const)O(B.const,D);else if(B.enum)for(let De of B.enum)O(De,D);else throw new Error(`discriminator: "properties/${c}" must have "const" or "enum"`)}function O(B,D){if(typeof B!="string"||B in _)throw new Error(`discriminator: "${c}" values must be unique strings`);_[B]=D}}}};ao.default=Tg});var Nu=M((A0,Pg)=>{Pg.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var Au=M((ae,Ou)=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.MissingRefError=ae.ValidationError=ae.CodeGen=ae.Name=ae.nil=ae.stringify=ae.str=ae._=ae.KeywordCxt=void 0;var kg=kl(),Dg=Pu(),Ig=Iu(),Ru=Nu(),Ng=["/properties"],Xs="http://json-schema.org/draft-07/schema",Ys=class extends kg.default{_addVocabularies(){super._addVocabularies(),Dg.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(Ig.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(Ru,Ng):Ru;this.addMetaSchema(e,Xs,!1),this.refs["http://json-schema.org/schema"]=Xs}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(Xs)?Xs:void 0)}};Ou.exports=ae=Ys;Object.defineProperty(ae,"__esModule",{value:!0});ae.default=Ys;var Rg=Va();Object.defineProperty(ae,"KeywordCxt",{enumerable:!0,get:function(){return Rg.KeywordCxt}});var Zr=j();Object.defineProperty(ae,"_",{enumerable:!0,get:function(){return Zr._}});Object.defineProperty(ae,"str",{enumerable:!0,get:function(){return Zr.str}});Object.defineProperty(ae,"stringify",{enumerable:!0,get:function(){return Zr.stringify}});Object.defineProperty(ae,"nil",{enumerable:!0,get:function(){return Zr.nil}});Object.defineProperty(ae,"Name",{enumerable:!0,get:function(){return Zr.Name}});Object.defineProperty(ae,"CodeGen",{enumerable:!0,get:function(){return Zr.CodeGen}});var Og=Ns();Object.defineProperty(ae,"ValidationError",{enumerable:!0,get:function(){return Og.default}});var Ag=Rs();Object.defineProperty(ae,"MissingRefError",{enumerable:!0,get:function(){return Ag.default}})});var ko=(t,e)=>(t+e)/2,is=(t,e)=>Math.random()*(e-t)+t;var ln=(t,e,r)=>Math.max(e,Math.min(t,r)),un=location.hostname==="localhost"||location.hostname==="127.0.0.1";function Do(t,e){if(!t||!e){console.error(t,e);return}let r=t.querySelectorAll(":scope > [data-tab-target]");r.forEach(a=>{a.addEventListener("click",()=>{var i;r.forEach(c=>c.classList.toggle("selected",c===a));let s=a.getAttribute("data-tab-target"),n=e.querySelector(`[data-tab-content="${s}"]`);Array.from(((i=n==null?void 0:n.parentElement)==null?void 0:i.children)||[]).filter(c=>c.hasAttribute("data-tab-content")).forEach(c=>{c.classList.toggle("hidden",c.getAttribute("data-tab-content")!==s)})})})}function br(t,e){let r="data-highlight",a=()=>t.removeAttribute(r);switch(t.setAttribute(r,""),e){case"click":t.addEventListener("click",a);break;case"mouseover":t.addEventListener("mouseover",a);break}}var lt,os,ut=class{constructor(){C(this,lt,new Map);C(this,os,0)}listen(e,r){let a=ns(this,os)._++,s={callback:e,id:a,opts:r};return y(this,lt).set(a,s),a}removeListener(e){y(this,lt).delete(e)}removeAllListeners(){y(this,lt).clear()}invoke(e){var r;y(this,lt).forEach(a=>{a.callback(e)});for(let[a,s]of y(this,lt).entries())(r=s.opts)!=null&&r.once&&y(this,lt).delete(a)}};lt=new WeakMap,os=new WeakMap;var ca,$e,dt,ee=class{constructor(e){C(this,ca,void 0);C(this,$e,void 0);C(this,dt,void 0);T(this,ca,e),T(this,$e,e),T(this,dt,new ut)}get value(){return y(this,$e)}get onChange(){return y(this,dt)}set(e){T(this,$e,e),y(this,dt).invoke(y(this,$e))}get(){return y(this,$e)}add(e){typeof y(this,$e)=="number"&&(T(this,$e,y(this,$e)+e),y(this,dt).invoke(y(this,$e)))}subtract(e){typeof y(this,$e)=="number"&&(T(this,$e,y(this,$e)-e),y(this,dt).invoke(y(this,$e)))}reset(){T(this,$e,y(this,ca)),y(this,dt).removeAllListeners()}};ca=new WeakMap,$e=new WeakMap,dt=new WeakMap;var Ye={None:1<<0,Attack:1<<1,Physical:1<<2,Elemental:1<<3,Chaos:1<<4},dn=[{desc:"#% Increased Physical Damage",tags:["Physical"],stats:[{name:"Damage",valueType:"Inc",flags:Ye.Physical}]},{desc:"#% More Physical Damage",tags:["Physical"],stats:[{name:"Damage",valueType:"More",flags:Ye.Physical}]},{desc:"Adds # To # Physical Damage",tags:["Physical"],stats:[{name:"MinDamage",valueType:"Base",flags:Ye.Physical},{name:"MaxDamage",valueType:"Base",flags:Ye.Physical}]},{desc:"+#% Hit Chance",stats:[{name:"HitChance",valueType:"Base"}]},{desc:"#% Increased Attack Speed",tags:["Speed"],stats:[{name:"AttackSpeed",valueType:"Inc"}]},{desc:"#% More Attack Speed",tags:["Speed"],stats:[{name:"AttackSpeed",valueType:"More"}]},{desc:"#% Increased Maximum Mana",tags:["Mana"],stats:[{name:"MaxMana",valueType:"Inc"}]},{desc:"+# Maximum Mana",tags:["Mana"],stats:[{name:"MaxMana",valueType:"Base"}]},{desc:"+# Mana Regeneration",tags:["Mana"],stats:[{name:"ManaRegen",valueType:"Base"}]},{desc:"+#% Critical Hit Chance",tags:["Critical"],stats:[{name:"CritChance",valueType:"Base"}]},{desc:"+#% Critical Hit Multiplier",tags:["Critical"],stats:[{name:"CritMulti",valueType:"Base"}]},{desc:"+# Gold Per Second",tags:["Gold"],stats:[{name:"GoldPerSecond",valueType:"Base"}]}],la,ua,da,Er,fn=class{constructor(e){C(this,la,void 0);C(this,ua,void 0);C(this,da,[]);C(this,Er,[]);T(this,la,e);let r=[...e.matchAll(new RegExp("{(?<v1>\\d+(\\.\\d+)?)(-(?<v2>\\d+(\\.\\d+)?))?\\}","g"))],a=e.replace(/{[^}]+}/g,"#"),s=dn.find(n=>n.desc===a);T(this,ua,s),T(this,da,[...(s==null?void 0:s.tags)||[]]);for(let n of s.stats){let i=r[s.stats.indexOf(n)].groups;if(!i)throw Error();let{v1:c,v2:d}=i,f=parseFloat(c),m=parseFloat(d)||f,h=f;y(this,Er).push(new Ut({name:n.name,valueType:n.valueType,value:h,min:f,max:m,flags:n.flags||0}))}}get desc(){let e=0;return this.templateDesc.replace(/#+/g,r=>{var n;return((n=y(this,Er)[e++].value)==null?void 0:n.toFixed(r.length-1))||"#"})}get templateDesc(){return y(this,ua).desc}get tags(){return[...y(this,da)]}get stats(){return y(this,Er)}compare(e){return dn.findIndex(r=>r.desc===this.templateDesc)-dn.findIndex(r=>r.desc===e.templateDesc)}static compare(e,r){return e.compare(r)}copy(){return new fn(y(this,la))}},Ve=fn;la=new WeakMap,ua=new WeakMap,da=new WeakMap,Er=new WeakMap;var fa,ma,Vt,ha,Ft,Sr,wr,Ut=class{constructor(e){C(this,fa,void 0);C(this,ma,void 0);C(this,Vt,void 0);C(this,ha,void 0);C(this,Ft,void 0);C(this,Sr,void 0);C(this,wr,void 0);T(this,fa,e.name),T(this,ma,e.valueType),T(this,ha,e.flags),T(this,Ft,e.min),T(this,Sr,e.max),T(this,Vt,e.value),T(this,wr,e.source)}get name(){return y(this,fa)}get valueType(){return y(this,ma)}get flags(){return y(this,ha)}get min(){return y(this,Ft)}get max(){return y(this,Sr)}get value(){return y(this,Vt)}set value(e){T(this,Vt,e)}get source(){return y(this,wr)}set source(e){T(this,wr,e)}randomizeValue(){T(this,Vt,Math.random()*(y(this,Sr)-y(this,Ft))+y(this,Ft))}};fa=new WeakMap,ma=new WeakMap,Vt=new WeakMap,ha=new WeakMap,Ft=new WeakMap,Sr=new WeakMap,wr=new WeakMap;var ft,Ht,cs=class{constructor(){C(this,ft,void 0);C(this,Ht,new ut);T(this,ft,[])}get modList(){return y(this,ft)}get onChange(){return y(this,Ht)}add(e,r){e.forEach(a=>a.source=r),y(this,ft).push(...e),y(this,Ht).invoke([...this.modList])}removeBySource(e){T(this,ft,y(this,ft).filter(r=>!r||r.source!=e)),y(this,Ht).invoke([...this.modList])}clear(){y(this,ft).splice(0),y(this,Ht).invoke([...this.modList])}};ft=new WeakMap,Ht=new WeakMap;var ls={Physical:1<<0,Elemental:1<<1,Chaos:1<<2},wd=(()=>{let t=[],e=Object.values(ls).reduce((r,a)=>r+a);for(let r=0;r<=e;r++){let a=["Damage"];Object.entries(ls).forEach(([s,n])=>{if(n&r){let i=`${s}Damage`;a.push(i)}}),t.push(a)}return t})();function Io(t){let e={statModList:t,flags:Ye.Attack,calcMinMax:is},r=Ae("HitChance",e)/100,a=is(0,1),s=r>=a;if(!s)return{hit:!1};e.flags=Ye.Attack;let n=hn(e).totalBaseDamage,i=Math.min(Ae("CritChance",e),100)/100,c=is(0,1),d=i>=c,f=1;d&&(f=Ae("CritMulti",e)/100);let h=mt("BaseDamageMultiplier",e)/100*f,$=n*h;return{hit:s,crit:d,totalDamage:$}}function hn(t){t.conversionTable=Cd(t);let e={totalBaseDamage:0,minPhysicalDamage:0,maxPhysicalDamage:0,physicalDamage:0,minElementalDamage:0,maxElementalDamage:0,elementalDamage:0,minChaosDamage:0,maxChaosDamage:0,chaosDamage:0},r=0;{t.flags|=Ye.Physical;let{min:a,max:s}=No("Physical",t);e.minPhysicalDamage=a,e.maxPhysicalDamage=s;let n=t.calcMinMax(a,s);e.physicalDamage=n,r+=n}return e.totalBaseDamage=r,e}function No(t,e,r=0){var h;r|=ls[t];let a=0,s=0,n=["Physical","Elemental","Chaos"];for(let $ of n){if($===t)break;let b=((h=e.conversionTable)==null?void 0:h[$])[t];if(b>0){let{min:_,max:v}=No($,e,r);a+=Math.ceil(_*b),s+=Math.ceil(v*b)}}let i=mt("MinDamage",e),c=mt("MaxDamage",e),d=wd[r],f=Math.round(mn(d,i,e)+a),m=Math.round(mn(d,c,e)+s);return{min:f,max:m}}function Cd(t){let e={},r=Object.keys(ls);for(let a=0;a<r.length;a++){let s=r[a],n={},i={},c={},d=0,f=0;for(let h=a+1;h<r.length;h++){let $=r[a],b=`${s}ConvertedTo${$}`;n[$]=mt(b,t),d+=n[$],i[$]=mt(b,t),f+=i[$],c[$]=mt(`${s}GainAs${$}`,t)}if(f>100){let h=100/f;for(let $ of Object.keys(i))i[$]*=h}else if(d+f>100){let h=(100-f)/d;for(let $ of Object.keys(n))n[$]*=h}let m={multi:1};for(let[h,$]of Object.entries(n)){let b=i[h]||0,_=c[h]||0;m[h]=($+b+_)/100}m.multi=1-Math.min((d+f)/100,1),e[s]=m}return e.Chaos={multi:1},e}function Ro(t){let e={statModList:t,flags:Ye.Attack,calcMinMax:ko},r=Ae("HitChance",e)/100,a=ln(r,0,1),s=Ae("AttackSpeed",e),n=mt("BaseDamageMultiplier",e)/100,i=Ae("MaxMana",e),c=Ae("ManaRegen",e),d=Ae("AttackManaCost",e),f=Ae("CritChance",e)/100,m=ln(f,0,1),h=Math.max(Ae("CritMulti",e),100)/100,$=1+m*h,b=hn(e),_=n*$,v=b.totalBaseDamage*a*s*_;return{hitChance:r*100,clampedHitChance:a*100,attackSpeed:s,critChance:f*100,clampedCritChance:m*100,critMulti:h*100,maxMana:i,manaRegen:c,attackManaCost:d,dps:v,minPhysicalDamage:b.minPhysicalDamage,maxPhysicalDamage:b.maxPhysicalDamage,goldPerSecond:Ae("GoldPerSecond",e)}}function mt(t,e){return pn("Base",t,e)}function Oo(t,e){return Math.max(0,1+pn("Inc",t,e)/100)}function Ao(t,e){return Math.max(0,pn("More",t,e))}function mn(t,e,r){if(e<=0)return 0;let a=Oo(t,r),s=Ao(t,r);return e*a*s}function Ae(t,e){let r=mt(t,e);if(r===0)return 0;let a=Oo(t,e),s=Ao(t,e);return r*a*s}function pn(t,e,r){e=Array.isArray(e)?e:[e];let a=t==="More"?1:0,s=(i,c)=>(i&c)===c,n=r.statModList.filter(i=>!(!e.includes(i.name)||i.valueType!==t||!s(r.flags,i.flags||0)));for(let i of n){let c=i.value;t==="More"?a*=1+c/100:a+=c}return Math.max(0,a)}var Md=document.querySelector(".p-combat [data-healthbar]"),pa=new ee(0),Mr=new ee(0),Cr=0,gn=new ut;function qo(t){Mr.onChange.removeAllListeners(),Mr.onChange.listen(e=>{e<=0&&(Cr=Math.min(Cr+1,t.enemyList.length-1),gn.invoke(Cr),pa.set(t.enemyList[Cr]),Mr.set(pa.get())),Td()}),Cr=0,pa.set(t.enemyList[Cr]),Mr.set(pa.get())}function jo(t){Mr.subtract(t)}function Td(){let t=Mr.get()/pa.get()*100;Md.style.width=t+"%"}var Tr=(t,e)=>{let r=new IntersectionObserver(a);return r.observe(t),r;function a(s){s.forEach(n=>{e(n.isIntersecting)})}};var bt={"Time Played":{value:new ee(0),formatType:"time"},"Gold Generated":{value:new ee(0)},"Mana Generated":{value:new ee(0)},Hits:{value:new ee(0)},"Critical Hits":{value:new ee(0)},"Total Damage":{value:new ee(0)},"Total Physical Damage":{value:new ee(0)},"Prestige Count":{value:new ee(0)}},Lo;Tr(document.querySelector(".p-game .p-statistics"),Pd);function Pd(t){t?(Object.entries(bt).forEach(([e,r])=>xo(e,r.value)),Lo=le.subscribe(()=>Object.entries(bt).forEach(([e,r])=>xo(e,r.value)),{intervalMilliseconds:1e3})):le.unsubscribe(Lo)}function Vo(){let t=[],e=r=>{let a=document.createElement("li");a.classList.add("g-field","hidden");let s=document.createElement("div");a.appendChild(s);let n=document.createElement("var");return a.appendChild(n),s.textContent=r,n.setAttribute("data-stat",r),n.setAttribute("data-format-type",bt[r].formatType||""),a};for(let r of Object.keys(bt)){let a=e(r);t.push(a)}document.querySelector(".p-statistics ul").replaceChildren(...t)}function xo(t,e){let r=document.querySelector(`.p-statistics [data-stat="${t}"]`);if(!r)return;let a=e.get()===0;if(r.parentElement.classList.toggle("hidden",a),a)return;switch(r.getAttribute("data-format-type")){case"time":let n=new Date(null);n.setSeconds(e.get());let i=n.toISOString().substring(11,19);r.textContent=i;break;default:r.textContent=e.get().toFixed(0)}}function Fo(t){t.statistics=Object.entries(bt).map(([e,r])=>({name:e,value:r.value.get()}))}function Ho(t){t.statistics.forEach(e=>bt[e.name].value.set(e.value))}var ue=Object.fromEntries(Object.keys(bt).map(t=>[t,bt[t].value]));var us=document.querySelector(".p-game > .s-stats"),kd=document.querySelector(".p-combat [data-manabar]"),Uo,be=new cs;be.onChange.listen(zo);var k=Object.freeze({level:new ee(1),gold:new ee(0),goldPerSecond:new ee(0),attackSpeed:new ee(0),attackManaCost:new ee(0),maxMana:new ee(0),curMana:new ee(0),manaRegen:new ee(0)});k.level.onChange.listen(t=>us.querySelector('[data-stat="level"]').textContent=t.toString());k.gold.onChange.listen(t=>us.querySelector('[data-stat="gold"]').textContent=t.toString());k.curMana.onChange.listen(()=>{let t=k.maxMana.get();k.curMana.get()>t&&k.curMana.set(t),Dd()});gn.listen(t=>{let e=t+1;e!==k.level.get()&&k.level.set(e)});function Go(t){t&&t.modList.forEach(e=>{be.add(new Ve(e).stats,"Player")}),le.subscribe(()=>{let e=k.goldPerSecond.get();k.gold.add(e),ue["Gold Generated"].add(e)},{intervalMilliseconds:1e3}),le.subscribe(e=>{let r=k.manaRegen.get()*e;k.curMana.add(r),ue["Mana Generated"].add(r)}),Id()}async function yn(){await zo(),k.curMana.set(k.maxMana.get())}async function zo(){return new Promise(t=>{clearTimeout(Uo),Uo=setTimeout(async()=>{let e=Ro(be.modList);k.attackSpeed.set(e.attackSpeed),k.goldPerSecond.set(e.goldPerSecond),k.maxMana.set(e.maxMana),k.manaRegen.set(e.manaRegen),k.attackManaCost.set(e.attackManaCost),us.querySelector('[data-stat="dps"]').textContent=e.dps.toFixed(),us.querySelectorAll("[data-stat]").forEach(r=>{let a=r.getAttribute("data-stat"),s=e[a];if(typeof s=="number"){let n=Number(r.getAttribute("data-digits")||0);r.textContent=s.toFixed(n)}}),t(null)},1)})}function Dd(){let t=k.curMana.get()/k.maxMana.get()*100;kd.style.width=t+"%"}function Id(){let t=0;le.subscribe(e=>{let r=k.attackSpeed.get();if(typeof r!="number")throw Error();if(t+=e*r,t>=1){let a=k.curMana.get(),s=k.attackManaCost.get();a>s&&(t-=1,k.curMana.subtract(s),Nd())}})}function Nd(){let t=Io(be.modList);!t.hit||(ue.Hits.add(1),ue["Total Damage"].add(t.totalDamage),ue["Total Physical Damage"].add(t.totalDamage),t.crit&&ue["Critical Hits"].add(1),jo(t.totalDamage))}function Ko(t){t.player={level:k.level.get(),gold:k.gold.get(),curMana:k.curMana.get()}}function Bo(t){yn(),k.level.set(t.player.level),k.gold.set(t.player.gold),k.curMana.set(t.player.curMana)}var Jo;(Jo=document.querySelector(".p-skills .s-skill-info [data-enable]"))==null||Jo.addEventListener("click",()=>Gt.selected.enable());var Pr=[];function Wo(t){var e,r;if(t.skillList.sort((a,s)=>a.levelReq-s.levelReq),t.skillList[0].levelReq>1)throw new Error("Skill levelReq at 0 index must have a minimum value of 1");for(let a of t.skillList){let s=((e=a.mods)==null?void 0:e.map(i=>new Ve(i)))||[],n=new Gt({name:a.name,levelReq:a.levelReq,attackSpeed:a.attackSpeed,manaCost:a.manaCost,baseDamageMultiplier:a.baseDamageMultiplier,mods:s});Pr.push(n)}(r=document.querySelector(".p-skills ul[data-skill-list]"))==null||r.replaceChildren(...Pr.map(a=>a.element)),Pr[0].select(),Pr[0].enable()}var St,kr,zt,Kt,Bt,ga,wt,ya,va,vn,ds,Qo,Et=class{constructor(e){C(this,va);C(this,ds);C(this,St,void 0);C(this,kr,void 0);C(this,zt,void 0);C(this,Kt,void 0);C(this,Bt,void 0);C(this,ga,void 0);C(this,wt,void 0);C(this,ya,void 0);T(this,St,e.name),T(this,kr,e.levelReq),T(this,zt,e.attackSpeed),T(this,Kt,e.baseDamageMultiplier),T(this,Bt,e.manaCost),T(this,ga,e.mods),T(this,wt,ce(this,ds,Qo).call(this)),T(this,ya,k.level.onChange.listen(()=>ce(this,va,vn).call(this))),ce(this,va,vn).call(this)}get name(){return y(this,St)}get levelReq(){return y(this,kr)}get attackSpeed(){return y(this,zt)}get baseDamageMultiplier(){return y(this,Kt)}get manaCost(){return y(this,Bt)}get mods(){return y(this,ga)}get element(){return y(this,wt)}get sourceName(){return`Skills/${y(this,St)}`}select(){Et.selected=this,document.querySelectorAll(".p-skills ul[data-skill-list] li").forEach(e=>{e.classList.toggle("selected",e===y(this,wt))}),this.show()}enable(){var e;document.querySelectorAll(".p-skills ul[data-skill-list] li").forEach(r=>{r.classList.toggle("enabled",r===y(this,wt))}),be.removeBySource((e=Et.enabled)==null?void 0:e.sourceName),Et.enabled=this,be.add([new Ut({name:"BaseDamageMultiplier",valueType:"Base",value:y(this,Kt)})],this.sourceName),be.add([new Ut({name:"AttackSpeed",valueType:"Base",value:y(this,zt)})],this.sourceName),be.add([new Ut({name:"AttackManaCost",valueType:"Base",value:y(this,Bt)})],this.sourceName),this.mods.forEach(r=>be.add(r.stats,this.sourceName)),this.show()}show(){var a;document.querySelector(".p-skills .s-skill-info [data-title]").textContent=y(this,St),document.querySelector('.p-skills .s-skill-info [data-stat="attackSpeed"]').textContent=y(this,zt).toFixed(2),document.querySelector('.p-skills .s-skill-info [data-stat="manaCost"]').textContent=y(this,Bt).toFixed(0),document.querySelector('.p-skills .s-skill-info [data-stat="baseDamageMultiplier"]').textContent=y(this,Kt).toFixed(0)+"%";let e=[];for(let s of this.mods){let n=document.createElement("div");n.classList.add("g-mod-desc"),n.textContent=s.desc,e.push(n)}(a=document.querySelector(".p-skills .s-skill-info [data-mod-list]"))==null||a.replaceChildren(...e);let r=document.querySelector(".p-skills [data-enable]");r.toggleAttribute("disabled",this===Et.enabled),r.textContent=this===Et.enabled?"Enabled":"Enable",this.element.classList.toggle("enabled",this===Et.enabled)}},Gt=Et;St=new WeakMap,kr=new WeakMap,zt=new WeakMap,Kt=new WeakMap,Bt=new WeakMap,ga=new WeakMap,wt=new WeakMap,ya=new WeakMap,va=new WeakSet,vn=function(){y(this,kr)>k.level.get()||(y(this,wt).classList.remove("hidden"),k.level.onChange.removeListener(y(this,ya)))},ds=new WeakSet,Qo=function(){let e=document.createElement("li");return e.textContent=y(this,St),e.classList.add("g-list-item","hidden"),e.addEventListener("click",()=>{document.querySelectorAll(".p-skills ul[data-skill-list]").forEach(r=>{r.classList.toggle("selected",r===e)}),this.select(),this.show()}),e},Xe(Gt,"enabled"),Xe(Gt,"selected");function Xo(t){t.skills={activeSkillName:Gt.enabled.name}}function Yo(t){let e=Pr.find(r=>r.name===t.skills.activeSkillName)||Pr[0];e.select(),e.enable()}var Jt,Wt,Dr,fs,_a=class{constructor(){C(this,Jt,new Map);C(this,Wt,!1);C(this,Dr,void 0);C(this,fs,0)}get running(){return y(this,Wt)}subscribe(e,r){let a=ns(this,fs)._++,s={callback:e,time:0,id:a,options:r};return y(this,Jt).set(a,s),a}unsubscribe(e){y(this,Jt).delete(e)}reset(){y(this,Jt).clear(),T(this,Wt,!1)}start(){this.running||(T(this,Wt,!0),this.beginLoop())}stop(){T(this,Wt,!1),clearTimeout(y(this,Dr))}beginLoop(){let e=0,r=performance.now(),a=()=>{clearTimeout(y(this,Dr)),T(this,Dr,setTimeout(()=>{let s=performance.now()-r+e;for(r=performance.now();s>40;){let n=Math.min(s,40);s-=40;let i=n/1e3;y(this,Jt).forEach(c=>{var f;c.time+=n;let d=((f=c.options)==null?void 0:f.intervalMilliseconds)||0;c.time>d&&(c.callback(i),c.time-=d||c.time)})}a()},40))};a()}};Jt=new WeakMap,Wt=new WeakMap,Dr=new WeakMap,fs=new WeakMap;var Rd=6,Od=20,Ad=.02,Qt={reforge:{desc:"Reforge the item with new random modifiers",validate:t=>new de().modsIsNotEmpty(t.modTables.general),getItemMods:t=>new fe().addMultiple(t.modTables.general,Ir(0)).modList},reforgeIncludePhysical:{desc:"Reforge the item with new random modifiers, including a [physical] modifier",validate:t=>new de().modsIsNotEmpty(t.modTables.general).modsContainsTag(t.modTables.general,"Physical"),getItemMods:t=>new fe().addOneByTag(t.modTables.general,"Physical").addMultiple(t.modTables.general,Ir(1)).modList},reforgeIncludeMana:{desc:"Reforge the item with new random modifiers, including a [mana] modifier",validate:t=>new de().modsIsNotEmpty(t.modTables.general).modsContainsTag(t.modTables.general,"Mana"),getItemMods:t=>new fe().addOneByTag(t.modTables.general,"Mana").addMultiple(t.modTables.general,Ir(1)).modList},reforgeIncludeCritical:{desc:"Reforge the item with new random modifiers, including a [critical] modifier",validate:t=>new de().modsIsNotEmpty(t.modTables.general).modsContainsTag(t.modTables.general,"Critical"),getItemMods:t=>new fe().addOneByTag(t.modTables.general,"Critical").addMultiple(t.modTables.general,Ir(1)).modList},reforgeHigherChanceSameMods:{desc:"Reforge the item with a higher chance of receiving the same modifiers",validate:t=>new de().itemHasModifiers(t.itemModList).modsIsNotEmpty(t.modTables.general),getItemMods:t=>{let e=[...t.modTables.general].reduce((r,a)=>(t.itemModList.some(s=>s===a)&&(a.weight*=Od),r.push(a),r),[]);return new fe().addMultiple(e,Ir(0)).modList}},reforgeLowerChanceSameMods:{desc:"Reforge the item with a lower chance of receiving the same modifiers",validate:t=>new de().itemHasModifiers(t.itemModList).modsIsNotEmpty(t.modTables.general),getItemMods:t=>{let e=[...t.modTables.general].reduce((r,a)=>(t.itemModList.some(s=>s===a)&&(a.weight*=Ad),r.push(a),r),[]);return new fe().addMultiple(e,Ir(0)).modList}},addRandom:{desc:"Add a random modifier",validate:t=>new de().itemHasSpaceForMods(t.itemModList).modsIsNotEmpty(t.modTables.general),getItemMods:t=>new fe(t.itemModList).addOne(t.modTables.general).modList},addPhysical:{desc:"Add a [physical] modifier",validate:t=>new de().modsIsNotEmpty(t.modTables.general).itemHasSpaceForMods(t.itemModList).itemCanCraftModWithTag(t.itemModList,t.modTables.general,"Physical"),getItemMods:t=>new fe(t.itemModList).addOneByTag(t.modTables.general,"Physical").modList},addMana:{desc:"Add a [mana] modifier",validate:t=>new de().modsIsNotEmpty(t.modTables.general).itemHasSpaceForMods(t.itemModList).itemCanCraftModWithTag(t.itemModList,t.modTables.general,"Mana"),getItemMods:t=>new fe(t.itemModList).addOneByTag(t.modTables.general,"Mana").modList},addCritical:{desc:"Add a [critical] modifier",validate:t=>new de().modsIsNotEmpty(t.modTables.general).itemHasSpaceForMods(t.itemModList).itemCanCraftModWithTag(t.itemModList,t.modTables.general,"Critical"),getItemMods:t=>new fe(t.itemModList).addOneByTag(t.modTables.general,"Critical").modList},removeRandom:{desc:"Remove a random modifier",validate:t=>new de().itemHasModifiers(t.itemModList),getItemMods:t=>new fe(t.itemModList).removeRandom().modList},removeRandomAddRandom:{desc:"Remove a random modifier and add a new random modifier",validate:t=>new de().itemHasModifiers(t.itemModList).modsIsNotEmpty(t.modTables.general),getItemMods:t=>new fe(t.itemModList).removeRandom().addOne(t.modTables.general).modList},removeRandomAddPhysical:{desc:"Remove a random modifier and add a new [physical] modifier",validate:t=>new de().itemHasModifiers(t.itemModList).modsContainsTag(t.modTables.general,"Physical").itemCanCraftModWithTag(t.itemModList,t.modTables.general,"Physical"),getItemMods:t=>new fe(t.itemModList).removeRandom().addOneByTag(t.modTables.general,"Physical").modList},removeRandomAddMana:{desc:"Remove a random modifier and add a new [mana] modifier",validate:t=>new de().itemHasModifiers(t.itemModList).modsContainsTag(t.modTables.general,"Mana").itemCanCraftModWithTag(t.itemModList,t.modTables.general,"Mana"),getItemMods:t=>new fe(t.itemModList).removeRandom().addOneByTag(t.modTables.general,"Mana").modList},removeRandomAddCritical:{desc:"Remove a random modifier and add a new [critical] modifier",validate:t=>new de().itemHasModifiers(t.itemModList).modsContainsTag(t.modTables.general,"Critical").itemCanCraftModWithTag(t.itemModList,t.modTables.general,"Critical"),getItemMods:t=>new fe(t.itemModList).removeRandom().addOneByTag(t.modTables.general,"Critical").modList}},de=class{constructor(){Xe(this,"errors",[]);this.errors=[]}itemHasSpaceForMods(e){return e.length>=Rd&&this.errors.push("Item cannot have any more modifiers"),this}itemHasModifiers(e){return e.length===0&&this.errors.push("Item has no modifiers"),this}itemCanCraftModWithTag(e,r,a){return r.filter(n=>{var i;return((i=n.tags)==null?void 0:i.includes(a))&&!e.some(c=>c.compare(n))}).length===0&&this.errors.push(`There are no ${a} modifiers available`),this}modsIsNotEmpty(e){return e.length===0&&this.errors.push("No modifiers available"),this}modsContainsTag(e,r){return e.some(a=>{var s;return(s=a.tags)==null?void 0:s.includes(r)})||this.errors.push(`No modifier was available with the tag: ${r}`),this}},Nr,ms,hs,Zo,fe=class{constructor(e=[]){C(this,Nr);C(this,hs);Xe(this,"modList");this.modList=[...e]}addOne(e){return this.modList.push(...ce(this,Nr,ms).call(this,e,this.modList,1)),this}addOneByTag(e,r){return e=e.filter(a=>{var s;return(s=a.tags)==null?void 0:s.includes(r)}),this.modList.push(...ce(this,Nr,ms).call(this,e,this.modList,1)),this}addMultiple(e,r){return this.modList.push(...ce(this,Nr,ms).call(this,e,this.modList,r)),this}removeRandom(){let e=ce(this,hs,Zo).call(this,0,this.modList.length);return this.modList.splice(e,1),this}};Nr=new WeakSet,ms=function(e,r=[],a){let s=[];for(let n=0;n<a;n++){let i=[...s,...r];e=e.filter(f=>!i.some(m=>f.templateDesc===m.templateDesc));let c=e.reduce((f,m)=>f+=m.weight,0),d=Math.random()*c;for(let f of e)if(c-=f.weight,c<=d){let m=f.copy();m.stats.forEach(h=>h.randomizeValue()),console.log(m.desc),s.push(m);break}}return s},hs=new WeakSet,Zo=function(e,r){return Math.floor(Math.random()*(r-e)+e)};var Ir=(t=0)=>{let e=[0,0,40,50,30,20].slice(t,6),r=e.reduce((s,n)=>s+n),a=Math.random()*r;for(let s=0;s<e.length;s++)if(r-=e[s],r<=a)return s+1;throw Error()};var Rr=document.querySelector(".p-items [data-preset-modal]"),ec;(ec=Rr.querySelector('input[type="submit"]'))==null||ec.addEventListener("click",()=>{var t;return(t=ye.active)==null?void 0:t.apply()});document.querySelector(".p-items .s-craft-container [data-craft-button]").addEventListener("click",()=>xd());document.querySelector(".p-items .s-preset-container [data-new]").addEventListener("click",()=>qd());document.querySelector(".p-items .s-preset-container [data-edit]").addEventListener("click",()=>{var t;return(t=ye.active)==null?void 0:t.edit()});document.querySelector(".p-items .s-preset-container [data-remove]").addEventListener("click",()=>{var t;return(t=ye.active)==null?void 0:t.delete()});Tr(document.querySelector(".p-items"),()=>{Ar()});var $n=[],Or=[],er;function tc(t){var r,a;for(let s of t.modTables.general)for(let n=0;n<s.length;n++){let i=s[n];$n.push(new _n(i,s))}for(let s of t.itemList){let n=new et(s);Or.push(n);let i=()=>k.level.get()<n.levelReq;if(i()){let c=k.level.onChange.listen(()=>{i()||(n.unlock(),k.level.onChange.removeListener(c))})}n.element.classList.toggle("hidden",i())}(r=document.querySelector(".p-items [data-item-list]"))==null||r.replaceChildren(...Or.map(s=>s.element)),jd(t.craftList),Ld(t.craftList),new ye("All",Object.keys(Qt)).select(),new ye("Reforge",["reforge","reforgeIncludePhysical","reforgeIncludeMana","reforgeIncludeCritical"]),Or[0].element.click(),k.gold.onChange.listen(bn);let e=((a=t.unlockWhen)==null?void 0:a.level)||1;if(e<=k.level.get())document.querySelector('.p-game menu [data-tab-target="items"]').classList.remove("hidden");else{let s=k.level.onChange.listen(n=>{if(n>=e){k.level.onChange.removeListener(s);let i=document.querySelector('.p-game menu [data-tab-target="items"]');i.classList.remove("hidden"),br(i,"click")}})}}function qd(){let t=new ye("New Preset",[]);t.select(),t.edit()}function jd(t){var r;let e=rc(t);e.forEach(a=>{a.addEventListener("click",()=>{e.forEach(n=>{n.classList.toggle("selected",n===a)});let s=a.getAttribute("data-craft-id");er=t.find(n=>n.id===s),bn()})}),Ar(),k.gold.onChange.listen(()=>{document.querySelector(".p-items").classList.contains("hidden")||Ar()}),(r=document.querySelector(".p-items .s-craft-container [data-craft-list]"))==null||r.replaceChildren(...e)}function Ld(t){var r;let e=rc(t);e.forEach(a=>{a.addEventListener("click",()=>{a.classList.toggle("selected",!a.classList.contains("selected"))})}),(r=document.querySelector(".p-items [data-preset-modal] [data-craft-list]"))==null||r.replaceChildren(...e)}function rc(t){let e=[];for(let r of t){let a=document.createElement("li");a.classList.add("g-field","g-list-item");let s=Qt[r.id].desc.replace(/\[\w+\]/g,n=>`<span>${n.substring(1,n.length-1)}</span>`);a.insertAdjacentHTML("beforeend",`<div>${s}</div>`),a.insertAdjacentHTML("beforeend",`<i data-cost="${r.cost}">${r.cost}</i>`),a.setAttribute("data-craft-id",r.id),e.push(a)}return e}function ac(){var t,e;if((t=et.active)!=null&&t.mods){let r=[];for(let a of et.active.mods.sort(Ve.compare)){let s=a.desc,n=document.createElement("li");n.classList.add("g-mod-desc"),n.textContent=s,r.push(n)}(e=document.querySelector(".p-items [data-mod-list]"))==null||e.replaceChildren(...r)}}function Ar(){var a;if(!ye.active)return;let t=ye.active.ids;document.querySelectorAll(".p-items .s-craft-container [data-craft-id]").forEach(s=>{let n=s.getAttribute("data-craft-id"),i=!t.includes(n);if(s.classList.toggle("hidden",i),!i){let c=s.querySelector("i"),d=c.getAttribute("data-cost"),f=parseInt(d),m=k.gold.get()>=f;c.toggleAttribute("data-insufficient-cost",!m)}}),document.querySelector(".p-items .s-craft-container .selected[data-craft-id]:not(.hidden)")||(a=document.querySelector(".p-items .s-craft-container [data-craft-id]:not(.hidden)"))==null||a.click()}function sc(){return{itemModList:et.active.mods,modTables:{general:$n.filter(t=>t.levelReq<=k.level.get())}}}function bn(){if(!et.active||!Qt[er.id])return;let t="",e=Qt[er.id];if(!e){console.error("invalid craft id");return}k.gold.get()<er.cost&&(t="You cannot afford this craft");let r=sc(),a=e.validate(r);a.errors.length>0&&(t=a.errors[0]),document.querySelector(".p-items .s-craft-container [data-craft-message]").textContent=t,document.querySelector(".p-items .s-craft-container [data-craft-button]").toggleAttribute("disabled",t.length>0)}function xd(){if(!et.active||!Qt[er.id])return;console.log("perform craft");let t=Qt[er.id],e=sc();et.active.mods=t.getItemMods(e),k.gold.subtract(er.cost),ac()}var $a,ba,Yt,Ea,qr,ps,nc,En=class{constructor({name:e,levelReq:r}){C(this,ps);C(this,$a,void 0);C(this,ba,void 0);C(this,Yt,void 0);C(this,Ea,void 0);C(this,qr,void 0);T(this,$a,e),T(this,ba,r),T(this,Yt,[]),T(this,Ea,ce(this,ps,nc).call(this)),T(this,qr,`Skills/${e}`)}get name(){return y(this,$a)}get levelReq(){return y(this,ba)}get mods(){return[...y(this,Yt)]}set mods(e){be.removeBySource(y(this,qr)),T(this,Yt,e),be.add(y(this,Yt).flatMap(r=>r.stats),y(this,qr))}get element(){return y(this,Ea)}unlock(){this.element.classList.remove("hidden")}},et=En;$a=new WeakMap,ba=new WeakMap,Yt=new WeakMap,Ea=new WeakMap,qr=new WeakMap,ps=new WeakSet,nc=function(){let e=document.createElement("li");return e.classList.add("g-list-item","item"),e.textContent=this.name,e.addEventListener("click",()=>{En.active=this,document.querySelectorAll(".p-items [data-item-list] .item").forEach(r=>{r.classList.toggle("selected",r===e)}),ac(),bn()}),e},Xe(et,"active");var Sa,wa,jr,Ca,Lr,Sn=class extends Ve{constructor(r,a){super(r.mod);C(this,Sa,void 0);C(this,wa,void 0);C(this,jr,void 0);C(this,Ca,void 0);C(this,Lr,void 0);T(this,Sa,r),T(this,wa,r.levelReq),T(this,jr,r.weight),T(this,Ca,a.findIndex(s=>s===r)),T(this,Lr,a)}get levelReq(){return y(this,wa)}get weight(){return y(this,jr)}set weight(r){T(this,jr,r)}get tier(){let r=y(this,Lr).filter(a=>a.levelReq<=k.level.get()).length-1;return Math.max(1,r-y(this,Ca))}copy(){return new Sn(y(this,Sa),y(this,Lr))}},_n=Sn;Sa=new WeakMap,wa=new WeakMap,jr=new WeakMap,Ca=new WeakMap,Lr=new WeakMap;var Zt,xr,Ze,gs,ic,ys,oc,Xt=class{constructor(e,r=[]){C(this,gs);C(this,ys);C(this,Zt,void 0);C(this,xr,void 0);C(this,Ze,void 0);T(this,Zt,e),T(this,xr,[...r]),T(this,Ze,ce(this,gs,ic).call(this)),this.setName(this.name),Xt.all.push(this)}get name(){return y(this,Zt)}get ids(){return y(this,xr)}select(){y(this,Ze).click()}setName(e){T(this,Zt,e.replace(/[^A-Za-z 0-9]/g,"")),y(this,Ze).textContent=this.name}edit(){ce(this,ys,oc).call(this)}delete(){var e,r;Xt.active=null,y(this,Ze).previousElementSibling?(e=y(this,Ze).previousElementSibling)==null||e.click():(r=y(this,Ze).nextElementSibling)==null||r.click(),y(this,Ze).remove(),Xt.all.splice(Xt.all.findIndex(a=>a===this),1),Ar()}apply(){this.setName(Rr.querySelector("[data-name]").value),T(this,xr,Array.from(Rr.querySelectorAll("[data-craft-list] [data-craft-id].selected")).map(e=>e.getAttribute("data-craft-id"))),Ar()}},ye=Xt;Zt=new WeakMap,xr=new WeakMap,Ze=new WeakMap,gs=new WeakSet,ic=function(){var r;let e=document.createElement("li");return e.classList.add("g-list-item","preset"),e.addEventListener("click",()=>{Xt.active=this,document.querySelectorAll(".p-items [data-preset-list] li").forEach(a=>{a.classList.toggle("selected",a===e)}),Ar()}),(r=document.querySelector(".p-items [data-preset-list]"))==null||r.appendChild(e),e},ys=new WeakSet,oc=function(){Rr.querySelector("input[data-name]").value=y(this,Zt),Rr.querySelectorAll("[data-craft-list] [data-craft-id]").forEach(e=>{e.classList.toggle("selected",this.ids.includes(e.getAttribute("data-craft-id")))}),Rr.showModal()},Xe(ye,"all",[]),Xe(ye,"active");function cc(t){let e=r=>r.mods.map(a=>({desc:a.templateDesc,values:a.stats.map(s=>s.value)}));t.items={items:Or.map(r=>({name:r.name,modList:e(r)})),craftPresets:ye.all.map(r=>({name:r.name,ids:r.ids}))}}function lc(t){var e,r;ye.all.forEach(a=>a.delete());for(let a of t.items.items){let s=Or.find(n=>n.name===a.name);if(!s){console.error("Invalid item name",a.name);continue}s.mods=a.modList.map(n=>{var c;let i=(c=$n.find(d=>n.desc===d.templateDesc))==null?void 0:c.copy();return i.stats.forEach((d,f)=>d.value=n.values[f]),i})}for(let a of t.items.craftPresets)new ye(a.name,a.ids);(e=ye.all[0])==null||e.select(),(r=Or[0])==null||r.element.click()}var Vd=[[/^Reach Level {(\d+)}$/,()=>k.level.get().toFixed()],[/^Prestige {\d+}?$/,()=>ue["Prestige Count"].get().toFixed()],[/^Deal Damage {(\d+)}$/,()=>ue["Total Damage"].get().toFixed()],[/^Deal Physical Damage {(\d+)}$/,()=>ue["Total Physical Damage"].get().toFixed()],[/^Perform Hits {(\d+)}$/,()=>ue.Hits.get().toFixed()],[/^Perform Critical Hits {(\d+)}$/,()=>ue["Critical Hits"].get().toFixed()],[/^Generate Gold {(\d+)}$/,()=>ue["Gold Generated"].get().toFixed()],[/^Regenerate Mana {(\d+)}$/,()=>ue["Mana Generated"].get().toFixed()]],Vr=[],uc=-1;Tr(document.querySelector(".p-game .p-achievements"),Fd);function dc(t){var r;Vr.splice(0);for(let a of t.list)Vr.push(new wn(a));document.querySelector(".p-achievements ul").replaceChildren(...Vr.map(a=>a.element)),le.subscribe(()=>{Vr.filter(a=>!a.completed).forEach(a=>{a.validate()&&a.complete()})},{intervalMilliseconds:1e3});let e=((r=t.unlockWhen)==null?void 0:r.level)||1;if(e<=k.level.get())document.querySelector('.p-game menu [data-tab-target="achievements"]').classList.remove("hidden");else{let a=k.level.onChange.listen(s=>{if(s>=e){k.level.onChange.removeListener(a);let n=document.querySelector('.p-game menu [data-tab-target="achievements"]');n.classList.remove("hidden"),br(n,"click")}})}}function Fd(t){t?(Vr.forEach(e=>e.updateDescription()),uc=le.subscribe(()=>Vr.forEach(e=>e.updateDescription()),{intervalMilliseconds:1e3})):le.unsubscribe(uc)}var Ct,ht,Fr,Mt,tr,Tt,pt,vs,fc,_s,mc,$s,hc,wn=class{constructor(e){C(this,vs);C(this,_s);C(this,$s);C(this,Ct,!1);C(this,ht,void 0);C(this,Fr,void 0);C(this,Mt,void 0);C(this,tr,void 0);C(this,Tt,void 0);C(this,pt,void 0);T(this,tr,e.description.replace(/[{}]/g,"")),T(this,Tt,[...(e==null?void 0:e.modList)||[]]);let r=Vd.find(s=>s[0].exec(e.description));if(!r)throw Error("no achievement validator found");T(this,ht,r);let a=r[0].exec(e.description);T(this,Mt,Number(a[1])),T(this,Fr,e.description.match(/{\d+}/).index),T(this,pt,ce(this,$s,hc).call(this))}get completed(){return y(this,Ct)}get modList(){return y(this,Tt)}get element(){return y(this,pt)}updateDescription(){y(this,Ct)||(y(this,pt).querySelector("[data-cur-value]").textContent=y(this,ht)[1]())}validate(){if(y(this,Ct))return;let e=Number(y(this,ht)[1]()),r=!1;return y(this,ht)[2]?r=y(this,ht)[2](e,y(this,Mt)):r=e>=y(this,Mt),r}complete(){T(this,Ct,!0),ce(this,vs,fc).call(this),ce(this,_s,mc).call(this),y(this,pt).querySelector("var").toggleAttribute("data-valid",y(this,Ct)),console.log("test"),br(document.querySelector('.p-game menu [data-tab-target="achievements"]'),"click"),br(y(this,pt),"mouseover")}};Ct=new WeakMap,ht=new WeakMap,Fr=new WeakMap,Mt=new WeakMap,tr=new WeakMap,Tt=new WeakMap,pt=new WeakMap,vs=new WeakSet,fc=function(){let e=y(this,Tt).map(r=>new Ve(r));be.add(e.flatMap(r=>r.stats),"Achievement/"+y(this,tr))},_s=new WeakSet,mc=function(){let e=y(this,pt).querySelector("var"),r=e.innerHTML,a=r.indexOf("</span>");e.innerHTML=r.substring(a+8)},$s=new WeakSet,hc=function(){let e=document.createElement("li");e.classList.add("g-accordion");let r=document.createElement("div");if(e.appendChild(r),r.classList.add("header"),r.insertAdjacentHTML("beforeend",`<div>${y(this,tr).substring(0,y(this,Fr))}<var><span data-cur-value>${y(this,ht)[1]()}</span>/${y(this,Mt).toString()}</var>${y(this,tr).substring(y(this,Fr)+y(this,Mt).toString().length)}</div>`),y(this,Tt).length>0){let a=document.createElement("div");e.appendChild(a),a.classList.add("content");for(let s of y(this,Tt))a.insertAdjacentHTML("beforeend",`<div class="g-mod-desc">${s.replace(/[{}]/g,"")}</div>`);r.insertAdjacentHTML("beforeend","<i></i>"),r.addEventListener("click",()=>{r.toggleAttribute("data-open")})}return e};function Cn(t){t.items&&tc(t.items),t.achievements&&dc(t.achievements)}function pc(){let t={};Ko(t),Xo(t),cc(t),Fo(t),console.log("Save",t),sessionStorage.setItem("game",JSON.stringify(t))}function gc(){let t=JSON.parse(sessionStorage.getItem("game"));Bo(t),Yo(t),lc(t),Ho(t)}Do(document.querySelector(".p-game > menu"),document.querySelector(".p-game"));un&&(globalThis.dev={game:{playerStats:k,save:pc,load:gc}},document.addEventListener("keydown",t=>{t.code==="Space"&&(le.running?(document.title="Tinkerers Subject (Stopped)",le.stop()):(le.start(),document.title="Tinkerers Subject (Running)"))}));var le=new _a;async function yc(t){le.reset(),qo(t.enemies),Go(t.player),Wo(t.skills),Cn({items:t.items,achievements:t.achievements}),le.subscribe(()=>{ue["Time Played"].add(1)},{intervalMilliseconds:1e3}),await yn(),Vo(),un||le.start()}var ju=Sd(Au(),1),qu=new ju.default;qg();async function qg(){var a;let t=await(await fetch("public/gconfig/schema.json")).json(),e=await(await fetch("public/gconfig/demo.json")).json();if(!qu.validate(t,e)){console.error(qu.errors);return}await yc(e),(a=document.querySelector(".p-game menu li:nth-child(1)[data-tab-target]"))==null||a.click(),document.body.classList.remove("hidden")}})();
/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
//# sourceMappingURL=main.js.map
